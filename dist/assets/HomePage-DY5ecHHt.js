import{c as Dn,i as mi,f as Qo,a as Jo,J as gi,u as Dt,r as S,M as es,m as xi,b as yi,d as wi,e as an,g as ts,h as vi,R as _,j as m,S as Zt,B as ze,A as Bn,k as ro,l as Si,n as ns,t as os,U as bi,o as ss,p as io,I as ln,q as Ni,s as Ei}from"./index-CdbTPMKZ.js";import{i as Ve,a as co,b as _i,c as ao}from"./string-cKWu9XK9.js";import{C as rs}from"./check-CFZNepiK.js";import{T as Ci}from"./triangle-alert-BoUFyv4M.js";import{C as Ai}from"./calendar-ByPmauP_.js";import{u as ki,a as Mi,c as Ti,P as is,b as Pi}from"./index-B5rDU-0H.js";import{M as zi,T as Ii}from"./textarea-DqZqrUbb.js";const Hi=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ri=Dn("message-circle",Hi);const $i=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Di=Dn("quote",$i);const Bi=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ji=Dn("sparkles",Bi);function Vi(...e){const t=!Array.isArray(e[0]),n=t?0:-1,o=e[0+n],s=e[1+n],i=e[2+n],r=e[3+n],c=mi(s,i,r);return t?c(o):c}function Li(e,t,n={}){const o=e.get();let s=null,i=o,r;const c=typeof o=="string"?o.replace(/[\d.-]/g,""):void 0,a=()=>{s&&(s.stop(),s=null)},u=()=>{a();const l=uo(e.get()),d=uo(i);l!==d&&(s=new gi({keyframes:[l,d],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:r}))};if(e.attach((l,d)=>{i=l,r=h=>d(lo(h,c)),Qo.postRender(()=>{u(),e.events.animationStart?.notify(),s?.then(()=>{e.events.animationComplete?.notify()})})},a),Jo(t)){const l=t.on("change",h=>e.set(lo(h,c))),d=e.on("destroy",l);return()=>{l(),d()}}return a}function lo(e,t){return t?e+t:e}function uo(e){return typeof e=="number"?e:parseFloat(e)}function Bt(e){const t=Dt(()=>xi(e)),{isStatic:n}=S.useContext(es);if(n){const[,o]=S.useState(e);S.useEffect(()=>t.on("change",o),[])}return t}function cs(e,t){const n=Bt(t()),o=()=>n.set(t());return o(),yi(()=>{const s=()=>Qo.preRender(o,!1,!0),i=e.map(r=>r.on("change",s));return()=>{i.forEach(r=>r()),wi(o)}}),n}function Fi(e){an.current=[],e();const t=cs(an.current,e);return an.current=void 0,t}function jt(e,t,n,o){if(typeof e=="function")return Fi(e);if(n!==void 0&&!Array.isArray(n)&&typeof t!="function")return Oi(e,t,n,o);const r=typeof t=="function"?t:Vi(t,n,o),c=Array.isArray(e)?ho(e,r):ho([e],([u])=>r(u)),a=Array.isArray(e)?void 0:e.accelerate;return a&&!a.isTransformed&&typeof t!="function"&&Array.isArray(n)&&o?.clamp!==!1&&(c.accelerate={...a,times:t,keyframes:n,isTransformed:!0}),c}function ho(e,t){const n=Dt(()=>[]);return cs(e,()=>{n.length=0;const o=e.length;for(let s=0;s<o;s++)n[s]=e[s].get();return t(n)})}function Oi(e,t,n,o){const s=Dt(()=>Object.keys(n)),i=Dt(()=>({}));for(const r of s)i[r]=jt(e,t,n[r],o);return i}function Wi(e,t={}){const{isStatic:n}=S.useContext(es),o=()=>Jo(e)?e.get():e;if(n)return jt(o);const s=Bt(o());return S.useInsertionEffect(()=>Li(s,e,t),[s,JSON.stringify(t)]),s}function fo(e,t={}){return Wi(e,{type:"spring",...t})}function ce(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,o;n<e.length;n++)(o=ce(e[n]))!==""&&(t+=(t&&" ")+o);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var un={exports:{}},dn={},hn={exports:{}},fn={};var po;function Yi(){if(po)return fn;po=1;var e=ts();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:t,o=e.useState,s=e.useEffect,i=e.useLayoutEffect,r=e.useDebugValue;function c(d,h){var p=h(),y=o({inst:{value:p,getSnapshot:h}}),g=y[0].inst,v=y[1];return i(function(){g.value=p,g.getSnapshot=h,a(g)&&v({inst:g})},[d,p,h]),s(function(){return a(g)&&v({inst:g}),d(function(){a(g)&&v({inst:g})})},[d]),r(p),p}function a(d){var h=d.getSnapshot;d=d.value;try{var p=h();return!n(d,p)}catch{return!0}}function u(d,h){return h()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:c;return fn.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:l,fn}var mo;function Xi(){return mo||(mo=1,hn.exports=Yi()),hn.exports}var go;function Ui(){if(go)return dn;go=1;var e=ts(),t=Xi();function n(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}var o=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,i=e.useRef,r=e.useEffect,c=e.useMemo,a=e.useDebugValue;return dn.useSyncExternalStoreWithSelector=function(u,l,d,h,p){var y=i(null);if(y.current===null){var g={hasValue:!1,value:null};y.current=g}else g=y.current;y=c(function(){function x(k){if(!E){if(E=!0,A=k,k=h(k),p!==void 0&&g.hasValue){var R=g.value;if(p(R,k))return w=R}return w=k}if(R=w,o(A,k))return R;var D=h(k);return p!==void 0&&p(R,D)?(A=k,R):(A=k,w=D)}var E=!1,A,w,M=d===void 0?null:d;return[function(){return x(l())},M===null?void 0:function(){return x(M())}]},[l,d,h,p]);var v=s(u,y[0],y[1]);return r(function(){g.hasValue=!0,g.value=v},[v]),a(v),v},dn}var xo;function Zi(){return xo||(xo=1,un.exports=Ui()),un.exports}var qi=Zi();const Gi=vi(qi),Ki={},yo=e=>{let t;const n=new Set,o=(l,d)=>{const h=typeof l=="function"?l(t):l;if(!Object.is(h,t)){const p=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,p))}},s=()=>t,a={setState:o,getState:s,getInitialState:()=>u,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{(Ki?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(o,s,a);return a},Qi=e=>e?yo(e):yo,{useDebugValue:Ji}=_,{useSyncExternalStoreWithSelector:ec}=Gi,tc=e=>e;function as(e,t=tc,n){const o=ec(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Ji(o),o}const wo=(e,t)=>{const n=Qi(e),o=(s,i=t)=>as(n,s,i);return Object.assign(o,n),o},nc=(e,t)=>e?wo(e,t):wo;function re(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,s]of e)if(!Object.is(s,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}var oc={value:()=>{}};function qt(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new It(n)}function It(e){this._=e}function sc(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",s=n.indexOf(".");if(s>=0&&(o=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}It.prototype=qt.prototype={constructor:It,on:function(e,t){var n=this._,o=sc(e+"",n),s,i=-1,r=o.length;if(arguments.length<2){for(;++i<r;)if((s=(e=o[i]).type)&&(s=rc(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<r;)if(s=(e=o[i]).type)n[s]=vo(n[s],e.name,t);else if(t==null)for(s in n)n[s]=vo(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new It(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),o=0,s,i;o<s;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],o=0,s=i.length;o<s;++o)i[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],s=0,i=o.length;s<i;++s)o[s].value.apply(t,n)}};function rc(e,t){for(var n=0,o=e.length,s;n<o;++n)if((s=e[n]).name===t)return s.value}function vo(e,t,n){for(var o=0,s=e.length;o<s;++o)if(e[o].name===t){e[o]=oc,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Nn="http://www.w3.org/1999/xhtml";const So={svg:"http://www.w3.org/2000/svg",xhtml:Nn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gt(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),So.hasOwnProperty(t)?{space:So[t],local:e}:e}function ic(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Nn&&t.documentElement.namespaceURI===Nn?t.createElement(e):t.createElementNS(n,e)}}function cc(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ls(e){var t=Gt(e);return(t.local?cc:ic)(t)}function ac(){}function jn(e){return e==null?ac:function(){return this.querySelector(e)}}function lc(e){typeof e!="function"&&(e=jn(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var i=t[s],r=i.length,c=o[s]=new Array(r),a,u,l=0;l<r;++l)(a=i[l])&&(u=e.call(a,a.__data__,l,i))&&("__data__"in a&&(u.__data__=a.__data__),c[l]=u);return new fe(o,this._parents)}function uc(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function dc(){return[]}function us(e){return e==null?dc:function(){return this.querySelectorAll(e)}}function hc(e){return function(){return uc(e.apply(this,arguments))}}function fc(e){typeof e=="function"?e=hc(e):e=us(e);for(var t=this._groups,n=t.length,o=[],s=[],i=0;i<n;++i)for(var r=t[i],c=r.length,a,u=0;u<c;++u)(a=r[u])&&(o.push(e.call(a,a.__data__,u,r)),s.push(a));return new fe(o,s)}function ds(e){return function(){return this.matches(e)}}function hs(e){return function(t){return t.matches(e)}}var pc=Array.prototype.find;function mc(e){return function(){return pc.call(this.children,e)}}function gc(){return this.firstElementChild}function xc(e){return this.select(e==null?gc:mc(typeof e=="function"?e:hs(e)))}var yc=Array.prototype.filter;function wc(){return Array.from(this.children)}function vc(e){return function(){return yc.call(this.children,e)}}function Sc(e){return this.selectAll(e==null?wc:vc(typeof e=="function"?e:hs(e)))}function bc(e){typeof e!="function"&&(e=ds(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var i=t[s],r=i.length,c=o[s]=[],a,u=0;u<r;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&c.push(a);return new fe(o,this._parents)}function fs(e){return new Array(e.length)}function Nc(){return new fe(this._enter||this._groups.map(fs),this._parents)}function Vt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vt.prototype={constructor:Vt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ec(e){return function(){return e}}function _c(e,t,n,o,s,i){for(var r=0,c,a=t.length,u=i.length;r<u;++r)(c=t[r])?(c.__data__=i[r],o[r]=c):n[r]=new Vt(e,i[r]);for(;r<a;++r)(c=t[r])&&(s[r]=c)}function Cc(e,t,n,o,s,i,r){var c,a,u=new Map,l=t.length,d=i.length,h=new Array(l),p;for(c=0;c<l;++c)(a=t[c])&&(h[c]=p=r.call(a,a.__data__,c,t)+"",u.has(p)?s[c]=a:u.set(p,a));for(c=0;c<d;++c)p=r.call(e,i[c],c,i)+"",(a=u.get(p))?(o[c]=a,a.__data__=i[c],u.delete(p)):n[c]=new Vt(e,i[c]);for(c=0;c<l;++c)(a=t[c])&&u.get(h[c])===a&&(s[c]=a)}function Ac(e){return e.__data__}function kc(e,t){if(!arguments.length)return Array.from(this,Ac);var n=t?Cc:_c,o=this._parents,s=this._groups;typeof e!="function"&&(e=Ec(e));for(var i=s.length,r=new Array(i),c=new Array(i),a=new Array(i),u=0;u<i;++u){var l=o[u],d=s[u],h=d.length,p=Mc(e.call(l,l&&l.__data__,u,o)),y=p.length,g=c[u]=new Array(y),v=r[u]=new Array(y),x=a[u]=new Array(h);n(l,d,g,v,x,p,t);for(var E=0,A=0,w,M;E<y;++E)if(w=g[E]){for(E>=A&&(A=E+1);!(M=v[A])&&++A<y;);w._next=M||null}}return r=new fe(r,o),r._enter=c,r._exit=a,r}function Mc(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Tc(){return new fe(this._exit||this._groups.map(fs),this._parents)}function Pc(e,t,n){var o=this.enter(),s=this,i=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),o&&s?o.merge(s).order():s}function zc(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,s=n.length,i=o.length,r=Math.min(s,i),c=new Array(s),a=0;a<r;++a)for(var u=n[a],l=o[a],d=u.length,h=c[a]=new Array(d),p,y=0;y<d;++y)(p=u[y]||l[y])&&(h[y]=p);for(;a<s;++a)c[a]=n[a];return new fe(c,this._parents)}function Ic(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],s=o.length-1,i=o[s],r;--s>=0;)(r=o[s])&&(i&&r.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(r,i),i=r);return this}function Hc(e){e||(e=Rc);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,o=n.length,s=new Array(o),i=0;i<o;++i){for(var r=n[i],c=r.length,a=s[i]=new Array(c),u,l=0;l<c;++l)(u=r[l])&&(a[l]=u);a.sort(t)}return new fe(s,this._parents).order()}function Rc(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function $c(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Dc(){return Array.from(this)}function Bc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],s=0,i=o.length;s<i;++s){var r=o[s];if(r)return r}return null}function jc(){let e=0;for(const t of this)++e;return e}function Vc(){return!this.node()}function Lc(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var s=t[n],i=0,r=s.length,c;i<r;++i)(c=s[i])&&e.call(c,c.__data__,i,s);return this}function Fc(e){return function(){this.removeAttribute(e)}}function Oc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wc(e,t){return function(){this.setAttribute(e,t)}}function Yc(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Xc(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Uc(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Zc(e,t){var n=Gt(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Oc:Fc:typeof t=="function"?n.local?Uc:Xc:n.local?Yc:Wc)(n,t))}function ps(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qc(e){return function(){this.style.removeProperty(e)}}function Gc(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Kc(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Qc(e,t,n){return arguments.length>1?this.each((t==null?qc:typeof t=="function"?Kc:Gc)(e,t,n??"")):rt(this.node(),e)}function rt(e,t){return e.style.getPropertyValue(t)||ps(e).getComputedStyle(e,null).getPropertyValue(t)}function Jc(e){return function(){delete this[e]}}function ea(e,t){return function(){this[e]=t}}function ta(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function na(e,t){return arguments.length>1?this.each((t==null?Jc:typeof t=="function"?ta:ea)(e,t)):this.node()[e]}function ms(e){return e.trim().split(/^|\s+/)}function Vn(e){return e.classList||new gs(e)}function gs(e){this._node=e,this._names=ms(e.getAttribute("class")||"")}gs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function xs(e,t){for(var n=Vn(e),o=-1,s=t.length;++o<s;)n.add(t[o])}function ys(e,t){for(var n=Vn(e),o=-1,s=t.length;++o<s;)n.remove(t[o])}function oa(e){return function(){xs(this,e)}}function sa(e){return function(){ys(this,e)}}function ra(e,t){return function(){(t.apply(this,arguments)?xs:ys)(this,e)}}function ia(e,t){var n=ms(e+"");if(arguments.length<2){for(var o=Vn(this.node()),s=-1,i=n.length;++s<i;)if(!o.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?ra:t?oa:sa)(n,t))}function ca(){this.textContent=""}function aa(e){return function(){this.textContent=e}}function la(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ua(e){return arguments.length?this.each(e==null?ca:(typeof e=="function"?la:aa)(e)):this.node().textContent}function da(){this.innerHTML=""}function ha(e){return function(){this.innerHTML=e}}function fa(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function pa(e){return arguments.length?this.each(e==null?da:(typeof e=="function"?fa:ha)(e)):this.node().innerHTML}function ma(){this.nextSibling&&this.parentNode.appendChild(this)}function ga(){return this.each(ma)}function xa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ya(){return this.each(xa)}function wa(e){var t=typeof e=="function"?e:ls(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function va(){return null}function Sa(e,t){var n=typeof e=="function"?e:ls(e),o=t==null?va:typeof t=="function"?t:jn(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function ba(){var e=this.parentNode;e&&e.removeChild(this)}function Na(){return this.each(ba)}function Ea(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _a(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ca(e){return this.select(e?_a:Ea)}function Aa(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ka(e){return function(t){e.call(this,t,this.__data__)}}function Ma(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Ta(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++o]=i;++o?t.length=o:delete this.__on}}}function Pa(e,t,n){return function(){var o=this.__on,s,i=ka(t);if(o){for(var r=0,c=o.length;r<c;++r)if((s=o[r]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(s):this.__on=[s]}}function za(e,t,n){var o=Ma(e+""),s,i=o.length,r;if(arguments.length<2){var c=this.node().__on;if(c){for(var a=0,u=c.length,l;a<u;++a)for(s=0,l=c[a];s<i;++s)if((r=o[s]).type===l.type&&r.name===l.name)return l.value}return}for(c=t?Pa:Ta,s=0;s<i;++s)this.each(c(o[s],t,n));return this}function ws(e,t,n){var o=ps(e),s=o.CustomEvent;typeof s=="function"?s=new s(t,n):(s=o.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function Ia(e,t){return function(){return ws(this,e,t)}}function Ha(e,t){return function(){return ws(this,e,t.apply(this,arguments))}}function Ra(e,t){return this.each((typeof t=="function"?Ha:Ia)(e,t))}function*$a(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],s=0,i=o.length,r;s<i;++s)(r=o[s])&&(yield r)}var vs=[null];function fe(e,t){this._groups=e,this._parents=t}function Et(){return new fe([[document.documentElement]],vs)}function Da(){return this}fe.prototype=Et.prototype={constructor:fe,select:lc,selectAll:fc,selectChild:xc,selectChildren:Sc,filter:bc,data:kc,enter:Nc,exit:Tc,join:Pc,merge:zc,selection:Da,order:Ic,sort:Hc,call:$c,nodes:Dc,node:Bc,size:jc,empty:Vc,each:Lc,attr:Zc,style:Qc,property:na,classed:ia,text:ua,html:pa,raise:ga,lower:ya,append:wa,insert:Sa,remove:Na,clone:Ca,datum:Aa,on:za,dispatch:Ra,[Symbol.iterator]:$a};function pe(e){return typeof e=="string"?new fe([[document.querySelector(e)]],[document.documentElement]):new fe([[e]],vs)}function Ba(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ge(e,t){if(e=Ba(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const ja={passive:!1},wt={capture:!0,passive:!1};function pn(e){e.stopImmediatePropagation()}function ot(e){e.preventDefault(),e.stopImmediatePropagation()}function Ss(e){var t=e.document.documentElement,n=pe(e).on("dragstart.drag",ot,wt);"onselectstart"in t?n.on("selectstart.drag",ot,wt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function bs(e,t){var n=e.document.documentElement,o=pe(e).on("dragstart.drag",null);t&&(o.on("click.drag",ot,wt),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ct=e=>()=>e;function En(e,{sourceEvent:t,subject:n,target:o,identifier:s,active:i,x:r,y:c,dx:a,dy:u,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:r,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:l}})}En.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Va(e){return!e.ctrlKey&&!e.button}function La(){return this.parentNode}function Fa(e,t){return t??{x:e.x,y:e.y}}function Oa(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wa(){var e=Va,t=La,n=Fa,o=Oa,s={},i=qt("start","drag","end"),r=0,c,a,u,l,d=0;function h(w){w.on("mousedown.drag",p).filter(o).on("touchstart.drag",v).on("touchmove.drag",x,ja).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(w,M){if(!(l||!e.call(this,w,M))){var k=A(this,t.call(this,w,M),w,M,"mouse");k&&(pe(w.view).on("mousemove.drag",y,wt).on("mouseup.drag",g,wt),Ss(w.view),pn(w),u=!1,c=w.clientX,a=w.clientY,k("start",w))}}function y(w){if(ot(w),!u){var M=w.clientX-c,k=w.clientY-a;u=M*M+k*k>d}s.mouse("drag",w)}function g(w){pe(w.view).on("mousemove.drag mouseup.drag",null),bs(w.view,u),ot(w),s.mouse("end",w)}function v(w,M){if(e.call(this,w,M)){var k=w.changedTouches,R=t.call(this,w,M),D=k.length,P,j;for(P=0;P<D;++P)(j=A(this,R,w,M,k[P].identifier,k[P]))&&(pn(w),j("start",w,k[P]))}}function x(w){var M=w.changedTouches,k=M.length,R,D;for(R=0;R<k;++R)(D=s[M[R].identifier])&&(ot(w),D("drag",w,M[R]))}function E(w){var M=w.changedTouches,k=M.length,R,D;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),R=0;R<k;++R)(D=s[M[R].identifier])&&(pn(w),D("end",w,M[R]))}function A(w,M,k,R,D,P){var j=i.copy(),V=ge(P||k,M),L,B,f;if((f=n.call(w,new En("beforestart",{sourceEvent:k,target:h,identifier:D,active:r,x:V[0],y:V[1],dx:0,dy:0,dispatch:j}),R))!=null)return L=f.x-V[0]||0,B=f.y-V[1]||0,function C(b,T,H){var N=V,z;switch(b){case"start":s[D]=C,z=r++;break;case"end":delete s[D],--r;case"drag":V=ge(H||T,M),z=r;break}j.call(b,w,new En(b,{sourceEvent:T,subject:f,target:h,identifier:D,active:z,x:V[0]+L,y:V[1]+B,dx:V[0]-N[0],dy:V[1]-N[1],dispatch:j}),R)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Ct(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:Ct(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Ct(w),h):n},h.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:Ct(!!w),h):o},h.on=function(){var w=i.on.apply(i,arguments);return w===i?h:w},h.clickDistance=function(w){return arguments.length?(d=(w=+w)*w,h):Math.sqrt(d)},h}var bo=180/Math.PI,_n={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ns(e,t,n,o,s,i){var r,c,a;return(r=Math.sqrt(e*e+t*t))&&(e/=r,t/=r),(a=e*n+t*o)&&(n-=e*a,o-=t*a),(c=Math.sqrt(n*n+o*o))&&(n/=c,o/=c,a/=c),e*o<t*n&&(e=-e,t=-t,a=-a,r=-r),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*bo,skewX:Math.atan(a)*bo,scaleX:r,scaleY:c}}var At;function Ya(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_n:Ns(t.a,t.b,t.c,t.d,t.e,t.f)}function Xa(e){return e==null||(At||(At=document.createElementNS("http://www.w3.org/2000/svg","g")),At.setAttribute("transform",e),!(e=At.transform.baseVal.consolidate()))?_n:(e=e.matrix,Ns(e.a,e.b,e.c,e.d,e.e,e.f))}function Es(e,t,n,o){function s(u){return u.length?u.pop()+" ":""}function i(u,l,d,h,p,y){if(u!==d||l!==h){var g=p.push("translate(",null,t,null,n);y.push({i:g-4,x:Ve(u,d)},{i:g-2,x:Ve(l,h)})}else(d||h)&&p.push("translate("+d+t+h+n)}function r(u,l,d,h){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),h.push({i:d.push(s(d)+"rotate(",null,o)-2,x:Ve(u,l)})):l&&d.push(s(d)+"rotate("+l+o)}function c(u,l,d,h){u!==l?h.push({i:d.push(s(d)+"skewX(",null,o)-2,x:Ve(u,l)}):l&&d.push(s(d)+"skewX("+l+o)}function a(u,l,d,h,p,y){if(u!==d||l!==h){var g=p.push(s(p)+"scale(",null,",",null,")");y.push({i:g-4,x:Ve(u,d)},{i:g-2,x:Ve(l,h)})}else(d!==1||h!==1)&&p.push(s(p)+"scale("+d+","+h+")")}return function(u,l){var d=[],h=[];return u=e(u),l=e(l),i(u.translateX,u.translateY,l.translateX,l.translateY,d,h),r(u.rotate,l.rotate,d,h),c(u.skewX,l.skewX,d,h),a(u.scaleX,u.scaleY,l.scaleX,l.scaleY,d,h),u=l=null,function(p){for(var y=-1,g=h.length,v;++y<g;)d[(v=h[y]).i]=v.x(p);return d.join("")}}}var Ua=Es(Ya,"px, ","px)","deg)"),Za=Es(Xa,", ",")",")"),qa=1e-12;function No(e){return((e=Math.exp(e))+1/e)/2}function Ga(e){return((e=Math.exp(e))-1/e)/2}function Ka(e){return((e=Math.exp(2*e))-1)/(e+1)}const Qa=(function e(t,n,o){function s(i,r){var c=i[0],a=i[1],u=i[2],l=r[0],d=r[1],h=r[2],p=l-c,y=d-a,g=p*p+y*y,v,x;if(g<qa)x=Math.log(h/u)/t,v=function(R){return[c+R*p,a+R*y,u*Math.exp(t*R*x)]};else{var E=Math.sqrt(g),A=(h*h-u*u+o*g)/(2*u*n*E),w=(h*h-u*u-o*g)/(2*h*n*E),M=Math.log(Math.sqrt(A*A+1)-A),k=Math.log(Math.sqrt(w*w+1)-w);x=(k-M)/t,v=function(R){var D=R*x,P=No(M),j=u/(n*E)*(P*Ka(t*D+M)-Ga(M));return[c+j*p,a+j*y,u*P/No(t*D+M)]}}return v.duration=x*1e3*t/Math.SQRT2,v}return s.rho=function(i){var r=Math.max(.001,+i),c=r*r,a=c*c;return e(r,c,a)},s})(Math.SQRT2,2,4);var it=0,gt=0,dt=0,_s=1e3,Lt,xt,Ft=0,We=0,Kt=0,vt=typeof performance=="object"&&performance.now?performance:Date,Cs=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ln(){return We||(Cs(Ja),We=vt.now()+Kt)}function Ja(){We=0}function Ot(){this._call=this._time=this._next=null}Ot.prototype=As.prototype={constructor:Ot,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ln():+n)+(t==null?0:+t),!this._next&&xt!==this&&(xt?xt._next=this:Lt=this,xt=this),this._call=e,this._time=n,Cn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Cn())}};function As(e,t,n){var o=new Ot;return o.restart(e,t,n),o}function el(){Ln(),++it;for(var e=Lt,t;e;)(t=We-e._time)>=0&&e._call.call(void 0,t),e=e._next;--it}function Eo(){We=(Ft=vt.now())+Kt,it=gt=0;try{el()}finally{it=0,nl(),We=0}}function tl(){var e=vt.now(),t=e-Ft;t>_s&&(Kt-=t,Ft=e)}function nl(){for(var e,t=Lt,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Lt=n);xt=e,Cn(o)}function Cn(e){if(!it){gt&&(gt=clearTimeout(gt));var t=e-We;t>24?(e<1/0&&(gt=setTimeout(Eo,e-vt.now()-Kt)),dt&&(dt=clearInterval(dt))):(dt||(Ft=vt.now(),dt=setInterval(tl,_s)),it=1,Cs(Eo))}}function _o(e,t,n){var o=new Ot;return t=t==null?0:+t,o.restart(s=>{o.stop(),e(s+t)},t,n),o}var ol=qt("start","end","cancel","interrupt"),sl=[],ks=0,Co=1,An=2,Ht=3,Ao=4,kn=5,Rt=6;function Qt(e,t,n,o,s,i){var r=e.__transition;if(!r)e.__transition={};else if(n in r)return;rl(e,n,{name:t,index:o,group:s,on:ol,tween:sl,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:ks})}function Fn(e,t){var n=ye(e,t);if(n.state>ks)throw new Error("too late; already scheduled");return n}function Se(e,t){var n=ye(e,t);if(n.state>Ht)throw new Error("too late; already running");return n}function ye(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function rl(e,t,n){var o=e.__transition,s;o[t]=n,n.timer=As(i,0,n.time);function i(u){n.state=Co,n.timer.restart(r,n.delay,n.time),n.delay<=u&&r(u-n.delay)}function r(u){var l,d,h,p;if(n.state!==Co)return a();for(l in o)if(p=o[l],p.name===n.name){if(p.state===Ht)return _o(r);p.state===Ao?(p.state=Rt,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete o[l]):+l<t&&(p.state=Rt,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete o[l])}if(_o(function(){n.state===Ht&&(n.state=Ao,n.timer.restart(c,n.delay,n.time),c(u))}),n.state=An,n.on.call("start",e,e.__data__,n.index,n.group),n.state===An){for(n.state=Ht,s=new Array(h=n.tween.length),l=0,d=-1;l<h;++l)(p=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(s[++d]=p);s.length=d+1}}function c(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=kn,1),d=-1,h=s.length;++d<h;)s[d].call(e,l);n.state===kn&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Rt,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function $t(e,t){var n=e.__transition,o,s,i=!0,r;if(n){t=t==null?null:t+"";for(r in n){if((o=n[r]).name!==t){i=!1;continue}s=o.state>An&&o.state<kn,o.state=Rt,o.timer.stop(),o.on.call(s?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[r]}i&&delete e.__transition}}function il(e){return this.each(function(){$t(this,e)})}function cl(e,t){var n,o;return function(){var s=Se(this,e),i=s.tween;if(i!==n){o=n=i;for(var r=0,c=o.length;r<c;++r)if(o[r].name===t){o=o.slice(),o.splice(r,1);break}}s.tween=o}}function al(e,t,n){var o,s;if(typeof n!="function")throw new Error;return function(){var i=Se(this,e),r=i.tween;if(r!==o){s=(o=r).slice();for(var c={name:t,value:n},a=0,u=s.length;a<u;++a)if(s[a].name===t){s[a]=c;break}a===u&&s.push(c)}i.tween=s}}function ll(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=ye(this.node(),n).tween,s=0,i=o.length,r;s<i;++s)if((r=o[s]).name===e)return r.value;return null}return this.each((t==null?cl:al)(n,e,t))}function On(e,t,n){var o=e._id;return e.each(function(){var s=Se(this,o);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return ye(s,o).value[t]}}function Ms(e,t){var n;return(typeof t=="number"?Ve:t instanceof ao?co:(n=ao(t))?(t=n,co):_i)(e,t)}function ul(e){return function(){this.removeAttribute(e)}}function dl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hl(e,t,n){var o,s=n+"",i;return function(){var r=this.getAttribute(e);return r===s?null:r===o?i:i=t(o=r,n)}}function fl(e,t,n){var o,s=n+"",i;return function(){var r=this.getAttributeNS(e.space,e.local);return r===s?null:r===o?i:i=t(o=r,n)}}function pl(e,t,n){var o,s,i;return function(){var r,c=n(this),a;return c==null?void this.removeAttribute(e):(r=this.getAttribute(e),a=c+"",r===a?null:r===o&&a===s?i:(s=a,i=t(o=r,c)))}}function ml(e,t,n){var o,s,i;return function(){var r,c=n(this),a;return c==null?void this.removeAttributeNS(e.space,e.local):(r=this.getAttributeNS(e.space,e.local),a=c+"",r===a?null:r===o&&a===s?i:(s=a,i=t(o=r,c)))}}function gl(e,t){var n=Gt(e),o=n==="transform"?Za:Ms;return this.attrTween(e,typeof t=="function"?(n.local?ml:pl)(n,o,On(this,"attr."+e,t)):t==null?(n.local?dl:ul)(n):(n.local?fl:hl)(n,o,t))}function xl(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function yl(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function wl(e,t){var n,o;function s(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&yl(e,i)),n}return s._value=t,s}function vl(e,t){var n,o;function s(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&xl(e,i)),n}return s._value=t,s}function Sl(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Gt(e);return this.tween(n,(o.local?wl:vl)(o,t))}function bl(e,t){return function(){Fn(this,e).delay=+t.apply(this,arguments)}}function Nl(e,t){return t=+t,function(){Fn(this,e).delay=t}}function El(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?bl:Nl)(t,e)):ye(this.node(),t).delay}function _l(e,t){return function(){Se(this,e).duration=+t.apply(this,arguments)}}function Cl(e,t){return t=+t,function(){Se(this,e).duration=t}}function Al(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_l:Cl)(t,e)):ye(this.node(),t).duration}function kl(e,t){if(typeof t!="function")throw new Error;return function(){Se(this,e).ease=t}}function Ml(e){var t=this._id;return arguments.length?this.each(kl(t,e)):ye(this.node(),t).ease}function Tl(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Se(this,e).ease=n}}function Pl(e){if(typeof e!="function")throw new Error;return this.each(Tl(this._id,e))}function zl(e){typeof e!="function"&&(e=ds(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var i=t[s],r=i.length,c=o[s]=[],a,u=0;u<r;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&c.push(a);return new Ae(o,this._parents,this._name,this._id)}function Il(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,s=n.length,i=Math.min(o,s),r=new Array(o),c=0;c<i;++c)for(var a=t[c],u=n[c],l=a.length,d=r[c]=new Array(l),h,p=0;p<l;++p)(h=a[p]||u[p])&&(d[p]=h);for(;c<o;++c)r[c]=t[c];return new Ae(r,this._parents,this._name,this._id)}function Hl(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Rl(e,t,n){var o,s,i=Hl(t)?Fn:Se;return function(){var r=i(this,e),c=r.on;c!==o&&(s=(o=c).copy()).on(t,n),r.on=s}}function $l(e,t){var n=this._id;return arguments.length<2?ye(this.node(),n).on.on(e):this.each(Rl(n,e,t))}function Dl(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Bl(){return this.on("end.remove",Dl(this._id))}function jl(e){var t=this._name,n=this._id;typeof e!="function"&&(e=jn(e));for(var o=this._groups,s=o.length,i=new Array(s),r=0;r<s;++r)for(var c=o[r],a=c.length,u=i[r]=new Array(a),l,d,h=0;h<a;++h)(l=c[h])&&(d=e.call(l,l.__data__,h,c))&&("__data__"in l&&(d.__data__=l.__data__),u[h]=d,Qt(u[h],t,n,h,u,ye(l,n)));return new Ae(i,this._parents,t,n)}function Vl(e){var t=this._name,n=this._id;typeof e!="function"&&(e=us(e));for(var o=this._groups,s=o.length,i=[],r=[],c=0;c<s;++c)for(var a=o[c],u=a.length,l,d=0;d<u;++d)if(l=a[d]){for(var h=e.call(l,l.__data__,d,a),p,y=ye(l,n),g=0,v=h.length;g<v;++g)(p=h[g])&&Qt(p,t,n,g,h,y);i.push(h),r.push(l)}return new Ae(i,r,t,n)}var Ll=Et.prototype.constructor;function Fl(){return new Ll(this._groups,this._parents)}function Ol(e,t){var n,o,s;return function(){var i=rt(this,e),r=(this.style.removeProperty(e),rt(this,e));return i===r?null:i===n&&r===o?s:s=t(n=i,o=r)}}function Ts(e){return function(){this.style.removeProperty(e)}}function Wl(e,t,n){var o,s=n+"",i;return function(){var r=rt(this,e);return r===s?null:r===o?i:i=t(o=r,n)}}function Yl(e,t,n){var o,s,i;return function(){var r=rt(this,e),c=n(this),a=c+"";return c==null&&(a=c=(this.style.removeProperty(e),rt(this,e))),r===a?null:r===o&&a===s?i:(s=a,i=t(o=r,c))}}function Xl(e,t){var n,o,s,i="style."+t,r="end."+i,c;return function(){var a=Se(this,e),u=a.on,l=a.value[i]==null?c||(c=Ts(t)):void 0;(u!==n||s!==l)&&(o=(n=u).copy()).on(r,s=l),a.on=o}}function Ul(e,t,n){var o=(e+="")=="transform"?Ua:Ms;return t==null?this.styleTween(e,Ol(e,o)).on("end.style."+e,Ts(e)):typeof t=="function"?this.styleTween(e,Yl(e,o,On(this,"style."+e,t))).each(Xl(this._id,e)):this.styleTween(e,Wl(e,o,t),n).on("end.style."+e,null)}function Zl(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function ql(e,t,n){var o,s;function i(){var r=t.apply(this,arguments);return r!==s&&(o=(s=r)&&Zl(e,r,n)),o}return i._value=t,i}function Gl(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,ql(e,t,n??""))}function Kl(e){return function(){this.textContent=e}}function Ql(e){return function(){var t=e(this);this.textContent=t??""}}function Jl(e){return this.tween("text",typeof e=="function"?Ql(On(this,"text",e)):Kl(e==null?"":e+""))}function eu(e){return function(t){this.textContent=e.call(this,t)}}function tu(e){var t,n;function o(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&eu(s)),t}return o._value=e,o}function nu(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,tu(e))}function ou(){for(var e=this._name,t=this._id,n=Ps(),o=this._groups,s=o.length,i=0;i<s;++i)for(var r=o[i],c=r.length,a,u=0;u<c;++u)if(a=r[u]){var l=ye(a,t);Qt(a,e,n,u,r,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Ae(o,this._parents,e,n)}function su(){var e,t,n=this,o=n._id,s=n.size();return new Promise(function(i,r){var c={value:r},a={value:function(){--s===0&&i()}};n.each(function(){var u=Se(this,o),l=u.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(a)),u.on=t}),s===0&&i()})}var ru=0;function Ae(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Ps(){return++ru}var Ee=Et.prototype;Ae.prototype={constructor:Ae,select:jl,selectAll:Vl,selectChild:Ee.selectChild,selectChildren:Ee.selectChildren,filter:zl,merge:Il,selection:Fl,transition:ou,call:Ee.call,nodes:Ee.nodes,node:Ee.node,size:Ee.size,empty:Ee.empty,each:Ee.each,on:$l,attr:gl,attrTween:Sl,style:Ul,styleTween:Gl,text:Jl,textTween:nu,remove:Bl,tween:ll,delay:El,duration:Al,ease:Ml,easeVarying:Pl,end:su,[Symbol.iterator]:Ee[Symbol.iterator]};function iu(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var cu={time:null,delay:0,duration:250,ease:iu};function au(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function lu(e){var t,n;e instanceof Ae?(t=e._id,e=e._name):(t=Ps(),(n=cu).time=Ln(),e=e==null?null:e+"");for(var o=this._groups,s=o.length,i=0;i<s;++i)for(var r=o[i],c=r.length,a,u=0;u<c;++u)(a=r[u])&&Qt(a,e,t,u,r,n||au(a,t));return new Ae(o,this._parents,e,t)}Et.prototype.interrupt=il;Et.prototype.transition=lu;const kt=e=>()=>e;function uu(e,{sourceEvent:t,target:n,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function _e(e,t,n){this.k=e,this.x=t,this.y=n}_e.prototype={constructor:_e,scale:function(e){return e===1?this:new _e(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new _e(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ce=new _e(1,0,0);_e.prototype;function mn(e){e.stopImmediatePropagation()}function ht(e){e.preventDefault(),e.stopImmediatePropagation()}function du(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function hu(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ko(){return this.__zoom||Ce}function fu(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function pu(){return navigator.maxTouchPoints||"ontouchstart"in this}function mu(e,t,n){var o=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],r=e.invertY(t[1][1])-n[1][1];return e.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r))}function zs(){var e=du,t=hu,n=mu,o=fu,s=pu,i=[0,1/0],r=[[-1/0,-1/0],[1/0,1/0]],c=250,a=Qa,u=qt("start","zoom","end"),l,d,h,p=500,y=150,g=0,v=10;function x(f){f.property("__zoom",ko).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",j).filter(s).on("touchstart.zoom",V).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(f,C,b,T){var H=f.selection?f.selection():f;H.property("__zoom",ko),f!==H?M(f,C,b,T):H.interrupt().each(function(){k(this,arguments).event(T).start().zoom(null,typeof C=="function"?C.apply(this,arguments):C).end()})},x.scaleBy=function(f,C,b,T){x.scaleTo(f,function(){var H=this.__zoom.k,N=typeof C=="function"?C.apply(this,arguments):C;return H*N},b,T)},x.scaleTo=function(f,C,b,T){x.transform(f,function(){var H=t.apply(this,arguments),N=this.__zoom,z=b==null?w(H):typeof b=="function"?b.apply(this,arguments):b,I=N.invert(z),$=typeof C=="function"?C.apply(this,arguments):C;return n(A(E(N,$),z,I),H,r)},b,T)},x.translateBy=function(f,C,b,T){x.transform(f,function(){return n(this.__zoom.translate(typeof C=="function"?C.apply(this,arguments):C,typeof b=="function"?b.apply(this,arguments):b),t.apply(this,arguments),r)},null,T)},x.translateTo=function(f,C,b,T,H){x.transform(f,function(){var N=t.apply(this,arguments),z=this.__zoom,I=T==null?w(N):typeof T=="function"?T.apply(this,arguments):T;return n(Ce.translate(I[0],I[1]).scale(z.k).translate(typeof C=="function"?-C.apply(this,arguments):-C,typeof b=="function"?-b.apply(this,arguments):-b),N,r)},T,H)};function E(f,C){return C=Math.max(i[0],Math.min(i[1],C)),C===f.k?f:new _e(C,f.x,f.y)}function A(f,C,b){var T=C[0]-b[0]*f.k,H=C[1]-b[1]*f.k;return T===f.x&&H===f.y?f:new _e(f.k,T,H)}function w(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function M(f,C,b,T){f.on("start.zoom",function(){k(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(T).end()}).tween("zoom",function(){var H=this,N=arguments,z=k(H,N).event(T),I=t.apply(H,N),$=b==null?w(I):typeof b=="function"?b.apply(H,N):b,O=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),F=H.__zoom,X=typeof C=="function"?C.apply(H,N):C,U=a(F.invert($).concat(O/F.k),X.invert($).concat(O/X.k));return function(q){if(q===1)q=X;else{var Q=U(q),K=O/Q[2];q=new _e(K,$[0]-Q[0]*K,$[1]-Q[1]*K)}z.zoom(null,q)}})}function k(f,C,b){return!b&&f.__zooming||new R(f,C)}function R(f,C){this.that=f,this.args=C,this.active=0,this.sourceEvent=null,this.extent=t.apply(f,C),this.taps=0}R.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,C){return this.mouse&&f!=="mouse"&&(this.mouse[1]=C.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=C.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=C.invert(this.touch1[0])),this.that.__zoom=C,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var C=pe(this.that).datum();u.call(f,this.that,new uu(f,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:u}),C)}};function D(f,...C){if(!e.apply(this,arguments))return;var b=k(this,C).event(f),T=this.__zoom,H=Math.max(i[0],Math.min(i[1],T.k*Math.pow(2,o.apply(this,arguments)))),N=ge(f);if(b.wheel)(b.mouse[0][0]!==N[0]||b.mouse[0][1]!==N[1])&&(b.mouse[1]=T.invert(b.mouse[0]=N)),clearTimeout(b.wheel);else{if(T.k===H)return;b.mouse=[N,T.invert(N)],$t(this),b.start()}ht(f),b.wheel=setTimeout(z,y),b.zoom("mouse",n(A(E(T,H),b.mouse[0],b.mouse[1]),b.extent,r));function z(){b.wheel=null,b.end()}}function P(f,...C){if(h||!e.apply(this,arguments))return;var b=f.currentTarget,T=k(this,C,!0).event(f),H=pe(f.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",O,!0),N=ge(f,b),z=f.clientX,I=f.clientY;Ss(f.view),mn(f),T.mouse=[N,this.__zoom.invert(N)],$t(this),T.start();function $(F){if(ht(F),!T.moved){var X=F.clientX-z,U=F.clientY-I;T.moved=X*X+U*U>g}T.event(F).zoom("mouse",n(A(T.that.__zoom,T.mouse[0]=ge(F,b),T.mouse[1]),T.extent,r))}function O(F){H.on("mousemove.zoom mouseup.zoom",null),bs(F.view,T.moved),ht(F),T.event(F).end()}}function j(f,...C){if(e.apply(this,arguments)){var b=this.__zoom,T=ge(f.changedTouches?f.changedTouches[0]:f,this),H=b.invert(T),N=b.k*(f.shiftKey?.5:2),z=n(A(E(b,N),T,H),t.apply(this,C),r);ht(f),c>0?pe(this).transition().duration(c).call(M,z,T,f):pe(this).call(x.transform,z,T,f)}}function V(f,...C){if(e.apply(this,arguments)){var b=f.touches,T=b.length,H=k(this,C,f.changedTouches.length===T).event(f),N,z,I,$;for(mn(f),z=0;z<T;++z)I=b[z],$=ge(I,this),$=[$,this.__zoom.invert($),I.identifier],H.touch0?!H.touch1&&H.touch0[2]!==$[2]&&(H.touch1=$,H.taps=0):(H.touch0=$,N=!0,H.taps=1+!!l);l&&(l=clearTimeout(l)),N&&(H.taps<2&&(d=$[0],l=setTimeout(function(){l=null},p)),$t(this),H.start())}}function L(f,...C){if(this.__zooming){var b=k(this,C).event(f),T=f.changedTouches,H=T.length,N,z,I,$;for(ht(f),N=0;N<H;++N)z=T[N],I=ge(z,this),b.touch0&&b.touch0[2]===z.identifier?b.touch0[0]=I:b.touch1&&b.touch1[2]===z.identifier&&(b.touch1[0]=I);if(z=b.that.__zoom,b.touch1){var O=b.touch0[0],F=b.touch0[1],X=b.touch1[0],U=b.touch1[1],q=(q=X[0]-O[0])*q+(q=X[1]-O[1])*q,Q=(Q=U[0]-F[0])*Q+(Q=U[1]-F[1])*Q;z=E(z,Math.sqrt(q/Q)),I=[(O[0]+X[0])/2,(O[1]+X[1])/2],$=[(F[0]+U[0])/2,(F[1]+U[1])/2]}else if(b.touch0)I=b.touch0[0],$=b.touch0[1];else return;b.zoom("touch",n(A(z,I,$),b.extent,r))}}function B(f,...C){if(this.__zooming){var b=k(this,C).event(f),T=f.changedTouches,H=T.length,N,z;for(mn(f),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),N=0;N<H;++N)z=T[N],b.touch0&&b.touch0[2]===z.identifier?delete b.touch0:b.touch1&&b.touch1[2]===z.identifier&&delete b.touch1;if(b.touch1&&!b.touch0&&(b.touch0=b.touch1,delete b.touch1),b.touch0)b.touch0[1]=this.__zoom.invert(b.touch0[0]);else if(b.end(),b.taps===2&&(z=ge(z,this),Math.hypot(d[0]-z[0],d[1]-z[1])<v)){var I=pe(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return x.wheelDelta=function(f){return arguments.length?(o=typeof f=="function"?f:kt(+f),x):o},x.filter=function(f){return arguments.length?(e=typeof f=="function"?f:kt(!!f),x):e},x.touchable=function(f){return arguments.length?(s=typeof f=="function"?f:kt(!!f),x):s},x.extent=function(f){return arguments.length?(t=typeof f=="function"?f:kt([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),x):t},x.scaleExtent=function(f){return arguments.length?(i[0]=+f[0],i[1]=+f[1],x):[i[0],i[1]]},x.translateExtent=function(f){return arguments.length?(r[0][0]=+f[0][0],r[1][0]=+f[1][0],r[0][1]=+f[0][1],r[1][1]=+f[1][1],x):[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},x.constrain=function(f){return arguments.length?(n=f,x):n},x.duration=function(f){return arguments.length?(c=+f,x):c},x.interpolate=function(f){return arguments.length?(a=f,x):a},x.on=function(){var f=u.on.apply(u,arguments);return f===u?x:f},x.clickDistance=function(f){return arguments.length?(g=(f=+f)*f,x):Math.sqrt(g)},x.tapDistance=function(f){return arguments.length?(v=+f,x):v},x}const Jt=S.createContext(null),gu=Jt.Provider,ke={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Is=ke.error001();function ee(e,t){const n=S.useContext(Jt);if(n===null)throw new Error(Is);return as(n,e,t)}const se=()=>{const e=S.useContext(Jt);if(e===null)throw new Error(Is);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},xu=e=>e.userSelectionActive?"none":"all";function Wn({position:e,children:t,className:n,style:o,...s}){const i=ee(xu),r=`${e}`.split("-");return _.createElement("div",{className:ce(["react-flow__panel",n,...r]),style:{...o,pointerEvents:i},...s},t)}function yu({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:_.createElement(Wn,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},_.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const wu=({x:e,y:t,label:n,labelStyle:o={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:r=[2,4],labelBgBorderRadius:c=2,children:a,className:u,...l})=>{const d=S.useRef(null),[h,p]=S.useState({x:0,y:0,width:0,height:0}),y=ce(["react-flow__edge-textwrapper",u]);return S.useEffect(()=>{if(d.current){const g=d.current.getBBox();p({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:_.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:y,visibility:h.width?"visible":"hidden",...l},s&&_.createElement("rect",{width:h.width+2*r[0],x:-r[0],y:-r[1],height:h.height+2*r[1],className:"react-flow__edge-textbg",style:i,rx:c,ry:c}),_.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:d,style:o},n),a)};var vu=S.memo(wu);const Yn=e=>({width:e.offsetWidth,height:e.offsetHeight}),ct=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Xn=(e={x:0,y:0},t)=>({x:ct(e.x,t[0][0],t[1][0]),y:ct(e.y,t[0][1],t[1][1])}),Mo=(e,t,n)=>e<t?ct(Math.abs(e-t),1,50)/50:e>n?-ct(Math.abs(e-n),1,50)/50:0,Hs=(e,t)=>{const n=Mo(e.x,35,t.width-35)*20,o=Mo(e.y,35,t.height-35)*20;return[n,o]},Rs=e=>e.getRootNode?.()||window?.document,$s=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),St=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),Ds=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),To=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Su=(e,t)=>Ds($s(St(e),St(t))),Mn=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},bu=e=>me(e.width)&&me(e.height)&&me(e.x)&&me(e.y),me=e=>!isNaN(e)&&isFinite(e),te=Symbol.for("internals"),Bs=["Enter"," ","Escape"],Nu=(e,t)=>{},Eu=e=>"nativeEvent"in e;function Tn(e){const n=(Eu(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const js=e=>"clientX"in e,Ie=(e,t)=>{const n=js(e),o=n?e.clientX:e.touches?.[0].clientX,s=n?e.clientY:e.touches?.[0].clientY;return{x:o-(t?.left??0),y:s-(t?.top??0)}},Wt=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,_t=({id:e,path:t,labelX:n,labelY:o,label:s,labelStyle:i,labelShowBg:r,labelBgStyle:c,labelBgPadding:a,labelBgBorderRadius:u,style:l,markerEnd:d,markerStart:h,interactionWidth:p=20})=>_.createElement(_.Fragment,null,_.createElement("path",{id:e,style:l,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:h}),p&&_.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),s&&me(n)&&me(o)?_.createElement(vu,{x:n,y:o,label:s,labelStyle:i,labelShowBg:r,labelBgStyle:c,labelBgPadding:a,labelBgBorderRadius:u}):null);_t.displayName="BaseEdge";function ft(e,t,n){return n===void 0?n:o=>{const s=t().edges.find(i=>i.id===e);s&&n(o,{...s})}}function Vs({sourceX:e,sourceY:t,targetX:n,targetY:o}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,r=Math.abs(o-t)/2,c=o<t?o+r:o-r;return[i,c,s,r]}function Ls({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:s,sourceControlY:i,targetControlX:r,targetControlY:c}){const a=e*.125+s*.375+r*.375+n*.125,u=t*.125+i*.375+c*.375+o*.125,l=Math.abs(a-e),d=Math.abs(u-t);return[a,u,l,d]}var Ye;(function(e){e.Strict="strict",e.Loose="loose"})(Ye||(Ye={}));var Fe;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Fe||(Fe={}));var bt;(function(e){e.Partial="partial",e.Full="full"})(bt||(bt={}));var Pe;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Pe||(Pe={}));var Yt;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Yt||(Yt={}));var Y;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Y||(Y={}));function Po({pos:e,x1:t,y1:n,x2:o,y2:s}){return e===Y.Left||e===Y.Right?[.5*(t+o),n]:[t,.5*(n+s)]}function Fs({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:o,targetY:s,targetPosition:i=Y.Top}){const[r,c]=Po({pos:n,x1:e,y1:t,x2:o,y2:s}),[a,u]=Po({pos:i,x1:o,y1:s,x2:e,y2:t}),[l,d,h,p]=Ls({sourceX:e,sourceY:t,targetX:o,targetY:s,sourceControlX:r,sourceControlY:c,targetControlX:a,targetControlY:u});return[`M${e},${t} C${r},${c} ${a},${u} ${o},${s}`,l,d,h,p]}const Un=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:s=Y.Bottom,targetPosition:i=Y.Top,label:r,labelStyle:c,labelShowBg:a,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:y,interactionWidth:g})=>{const[v,x,E]=Fs({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:o,targetPosition:i});return _.createElement(_t,{path:v,labelX:x,labelY:E,label:r,labelStyle:c,labelShowBg:a,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:y,interactionWidth:g})});Un.displayName="SimpleBezierEdge";const zo={[Y.Left]:{x:-1,y:0},[Y.Right]:{x:1,y:0},[Y.Top]:{x:0,y:-1},[Y.Bottom]:{x:0,y:1}},_u=({source:e,sourcePosition:t=Y.Bottom,target:n})=>t===Y.Left||t===Y.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Io=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Cu({source:e,sourcePosition:t=Y.Bottom,target:n,targetPosition:o=Y.Top,center:s,offset:i}){const r=zo[t],c=zo[o],a={x:e.x+r.x*i,y:e.y+r.y*i},u={x:n.x+c.x*i,y:n.y+c.y*i},l=_u({source:a,sourcePosition:t,target:u}),d=l.x!==0?"x":"y",h=l[d];let p=[],y,g;const v={x:0,y:0},x={x:0,y:0},[E,A,w,M]=Vs({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(r[d]*c[d]===-1){y=s.x??E,g=s.y??A;const R=[{x:y,y:a.y},{x:y,y:u.y}],D=[{x:a.x,y:g},{x:u.x,y:g}];r[d]===h?p=d==="x"?R:D:p=d==="x"?D:R}else{const R=[{x:a.x,y:u.y}],D=[{x:u.x,y:a.y}];if(d==="x"?p=r.x===h?D:R:p=r.y===h?R:D,t===o){const B=Math.abs(e[d]-n[d]);if(B<=i){const f=Math.min(i-1,i-B);r[d]===h?v[d]=(a[d]>e[d]?-1:1)*f:x[d]=(u[d]>n[d]?-1:1)*f}}if(t!==o){const B=d==="x"?"y":"x",f=r[d]===c[B],C=a[B]>u[B],b=a[B]<u[B];(r[d]===1&&(!f&&C||f&&b)||r[d]!==1&&(!f&&b||f&&C))&&(p=d==="x"?R:D)}const P={x:a.x+v.x,y:a.y+v.y},j={x:u.x+x.x,y:u.y+x.y},V=Math.max(Math.abs(P.x-p[0].x),Math.abs(j.x-p[0].x)),L=Math.max(Math.abs(P.y-p[0].y),Math.abs(j.y-p[0].y));V>=L?(y=(P.x+j.x)/2,g=p[0].y):(y=p[0].x,g=(P.y+j.y)/2)}return[[e,{x:a.x+v.x,y:a.y+v.y},...p,{x:u.x+x.x,y:u.y+x.y},n],y,g,w,M]}function Au(e,t,n,o){const s=Math.min(Io(e,t)/2,Io(t,n)/2,o),{x:i,y:r}=t;if(e.x===i&&i===n.x||e.y===r&&r===n.y)return`L${i} ${r}`;if(e.y===r){const u=e.x<n.x?-1:1,l=e.y<n.y?1:-1;return`L ${i+s*u},${r}Q ${i},${r} ${i},${r+s*l}`}const c=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${i},${r+s*a}Q ${i},${r} ${i+s*c},${r}`}function Pn({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:o,targetY:s,targetPosition:i=Y.Top,borderRadius:r=5,centerX:c,centerY:a,offset:u=20}){const[l,d,h,p,y]=Cu({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:s},targetPosition:i,center:{x:c,y:a},offset:u});return[l.reduce((v,x,E)=>{let A="";return E>0&&E<l.length-1?A=Au(l[E-1],x,l[E+1],r):A=`${E===0?"M":"L"}${x.x} ${x.y}`,v+=A,v},""),d,h,p,y]}const en=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,label:s,labelStyle:i,labelShowBg:r,labelBgStyle:c,labelBgPadding:a,labelBgBorderRadius:u,style:l,sourcePosition:d=Y.Bottom,targetPosition:h=Y.Top,markerEnd:p,markerStart:y,pathOptions:g,interactionWidth:v})=>{const[x,E,A]=Pn({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:o,targetPosition:h,borderRadius:g?.borderRadius,offset:g?.offset});return _.createElement(_t,{path:x,labelX:E,labelY:A,label:s,labelStyle:i,labelShowBg:r,labelBgStyle:c,labelBgPadding:a,labelBgBorderRadius:u,style:l,markerEnd:p,markerStart:y,interactionWidth:v})});en.displayName="SmoothStepEdge";const Zn=S.memo(e=>_.createElement(en,{...e,pathOptions:S.useMemo(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));Zn.displayName="StepEdge";function ku({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[s,i,r,c]=Vs({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,s,i,r,c]}const qn=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,label:s,labelStyle:i,labelShowBg:r,labelBgStyle:c,labelBgPadding:a,labelBgBorderRadius:u,style:l,markerEnd:d,markerStart:h,interactionWidth:p})=>{const[y,g,v]=ku({sourceX:e,sourceY:t,targetX:n,targetY:o});return _.createElement(_t,{path:y,labelX:g,labelY:v,label:s,labelStyle:i,labelShowBg:r,labelBgStyle:c,labelBgPadding:a,labelBgBorderRadius:u,style:l,markerEnd:d,markerStart:h,interactionWidth:p})});qn.displayName="StraightEdge";function Mt(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ho({pos:e,x1:t,y1:n,x2:o,y2:s,c:i}){switch(e){case Y.Left:return[t-Mt(t-o,i),n];case Y.Right:return[t+Mt(o-t,i),n];case Y.Top:return[t,n-Mt(n-s,i)];case Y.Bottom:return[t,n+Mt(s-n,i)]}}function Os({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:o,targetY:s,targetPosition:i=Y.Top,curvature:r=.25}){const[c,a]=Ho({pos:n,x1:e,y1:t,x2:o,y2:s,c:r}),[u,l]=Ho({pos:i,x1:o,y1:s,x2:e,y2:t,c:r}),[d,h,p,y]=Ls({sourceX:e,sourceY:t,targetX:o,targetY:s,sourceControlX:c,sourceControlY:a,targetControlX:u,targetControlY:l});return[`M${e},${t} C${c},${a} ${u},${l} ${o},${s}`,d,h,p,y]}const Xt=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:s=Y.Bottom,targetPosition:i=Y.Top,label:r,labelStyle:c,labelShowBg:a,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:y,pathOptions:g,interactionWidth:v})=>{const[x,E,A]=Os({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:o,targetPosition:i,curvature:g?.curvature});return _.createElement(_t,{path:x,labelX:E,labelY:A,label:r,labelStyle:c,labelShowBg:a,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:y,interactionWidth:v})});Xt.displayName="BezierEdge";const Gn=S.createContext(null),Mu=Gn.Provider;Gn.Consumer;const Tu=()=>S.useContext(Gn),Pu=e=>"id"in e&&"source"in e&&"target"in e,zu=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`reactflow__edge-${e}${t||""}-${n}${o||""}`,zn=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`,Iu=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Ws=(e,t)=>{if(!e.source||!e.target)return t;let n;return Pu(e)?n={...e}:n={...e,id:zu(e)},Iu(n,t)?t:t.concat(n)},In=({x:e,y:t},[n,o,s],i,[r,c])=>{const a={x:(e-n)/s,y:(t-o)/s};return i?{x:r*Math.round(a.x/r),y:c*Math.round(a.y/c)}:a},Ys=({x:e,y:t},[n,o,s])=>({x:e*s+n,y:t*s+o}),Oe=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],o=(e.height??0)*t[1],s={x:e.position.x-n,y:e.position.y-o};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-o}:s}},tn=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((o,s)=>{const{x:i,y:r}=Oe(s,t).positionAbsolute;return $s(o,St({x:i,y:r,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ds(n)},Xs=(e,t,[n,o,s]=[0,0,1],i=!1,r=!1,c=[0,0])=>{const a={x:(t.x-n)/s,y:(t.y-o)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(l=>{const{width:d,height:h,selectable:p=!0,hidden:y=!1}=l;if(r&&!p||y)return!1;const{positionAbsolute:g}=Oe(l,c),v={x:g.x,y:g.y,width:d||0,height:h||0},x=Mn(a,v),E=typeof d>"u"||typeof h>"u"||d===null||h===null,A=i&&x>0,w=(d||0)*(h||0);(E||A||x>=w||l.dragging)&&u.push(l)}),u},Us=(e,t)=>{const n=e.map(o=>o.id);return t.filter(o=>n.includes(o.source)||n.includes(o.target))},Zs=(e,t,n,o,s,i=.1)=>{const r=t/(e.width*(1+i)),c=n/(e.height*(1+i)),a=Math.min(r,c),u=ct(a,o,s),l=e.x+e.width/2,d=e.y+e.height/2,h=t/2-l*u,p=n/2-d*u;return{x:h,y:p,zoom:u}},Le=(e,t=0)=>e.transition().duration(t);function Ro(e,t,n,o){return(t[n]||[]).reduce((s,i)=>(`${e.id}-${i.id}-${n}`!==o&&s.push({id:i.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+i.x+i.width/2,y:(e.positionAbsolute?.y??0)+i.y+i.height/2}),s),[])}function Hu(e,t,n,o,s,i){const{x:r,y:c}=Ie(e),u=t.elementsFromPoint(r,c).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const g=Kn(void 0,u),v=u.getAttribute("data-handleid"),x=i({nodeId:y,id:v,type:g});if(x){const E=s.find(A=>A.nodeId===y&&A.type===g&&A.id===v);return{handle:{id:v,type:g,nodeId:y,x:E?.x||n.x,y:E?.y||n.y},validHandleResult:x}}}}let l=[],d=1/0;if(s.forEach(y=>{const g=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(g<=o){const v=i(y);g<=d&&(g<d?l=[{handle:y,validHandleResult:v}]:g===d&&l.push({handle:y,validHandleResult:v}),d=g)}}),!l.length)return{handle:null,validHandleResult:qs()};if(l.length===1)return l[0];const h=l.some(({validHandleResult:y})=>y.isValid),p=l.some(({handle:y})=>y.type==="target");return l.find(({handle:y,validHandleResult:g})=>p?y.type==="target":h?g.isValid:!0)||l[0]}const Ru={source:null,target:null,sourceHandle:null,targetHandle:null},qs=()=>({handleDomNode:null,isValid:!1,connection:Ru,endHandle:null});function Gs(e,t,n,o,s,i,r){const c=s==="target",a=r.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),u={...qs(),handleDomNode:a};if(a){const l=Kn(void 0,a),d=a.getAttribute("data-nodeid"),h=a.getAttribute("data-handleid"),p=a.classList.contains("connectable"),y=a.classList.contains("connectableend"),g={source:c?d:n,sourceHandle:c?h:o,target:c?n:d,targetHandle:c?o:h};u.connection=g,p&&y&&(t===Ye.Strict?c&&l==="source"||!c&&l==="target":d!==n||h!==o)&&(u.endHandle={nodeId:d,handleId:h,type:l},u.isValid=i(g))}return u}function $u({nodes:e,nodeId:t,handleId:n,handleType:o}){return e.reduce((s,i)=>{if(i[te]){const{handleBounds:r}=i[te];let c=[],a=[];r&&(c=Ro(i,r,"source",`${t}-${n}-${o}`),a=Ro(i,r,"target",`${t}-${n}-${o}`)),s.push(...c,...a)}return s},[])}function Kn(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function gn(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Du(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Ks({event:e,handleId:t,nodeId:n,onConnect:o,isTarget:s,getState:i,setState:r,isValidConnection:c,edgeUpdaterType:a,onReconnectEnd:u}){const l=Rs(e.target),{connectionMode:d,domNode:h,autoPanOnConnect:p,connectionRadius:y,onConnectStart:g,panBy:v,getNodes:x,cancelConnection:E}=i();let A=0,w;const{x:M,y:k}=Ie(e),R=l?.elementFromPoint(M,k),D=Kn(a,R),P=h?.getBoundingClientRect();if(!P||!D)return;let j,V=Ie(e,P),L=!1,B=null,f=!1,C=null;const b=$u({nodes:x(),nodeId:n,handleId:t,handleType:D}),T=()=>{if(!p)return;const[z,I]=Hs(V,P);v({x:z,y:I}),A=requestAnimationFrame(T)};r({connectionPosition:V,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:D,connectionStartHandle:{nodeId:n,handleId:t,type:D},connectionEndHandle:null}),g?.(e,{nodeId:n,handleId:t,handleType:D});function H(z){const{transform:I}=i();V=Ie(z,P);const{handle:$,validHandleResult:O}=Hu(z,l,In(V,I,!1,[1,1]),y,b,F=>Gs(F,d,n,t,s?"target":"source",c,l));if(w=$,L||(T(),L=!0),C=O.handleDomNode,B=O.connection,f=O.isValid,r({connectionPosition:w&&f?Ys({x:w.x,y:w.y},I):V,connectionStatus:Du(!!w,f),connectionEndHandle:O.endHandle}),!w&&!f&&!C)return gn(j);B.source!==B.target&&C&&(gn(j),j=C,C.classList.add("connecting","react-flow__handle-connecting"),C.classList.toggle("valid",f),C.classList.toggle("react-flow__handle-valid",f))}function N(z){(w||C)&&B&&f&&o?.(B),i().onConnectEnd?.(z),a&&u?.(z),gn(j),E(),cancelAnimationFrame(A),L=!1,f=!1,B=null,C=null,l.removeEventListener("mousemove",H),l.removeEventListener("mouseup",N),l.removeEventListener("touchmove",H),l.removeEventListener("touchend",N)}l.addEventListener("mousemove",H),l.addEventListener("mouseup",N),l.addEventListener("touchmove",H),l.addEventListener("touchend",N)}const $o=()=>!0,Bu=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),ju=(e,t,n)=>o=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:r}=o;return{connecting:s?.nodeId===e&&s?.handleId===t&&s?.type===n||i?.nodeId===e&&i?.handleId===t&&i?.type===n,clickConnecting:r?.nodeId===e&&r?.handleId===t&&r?.type===n}},Qs=S.forwardRef(({type:e="source",position:t=Y.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:r,onConnect:c,children:a,className:u,onMouseDown:l,onTouchStart:d,...h},p)=>{const y=r||null,g=e==="target",v=se(),x=Tu(),{connectOnClick:E,noPanClassName:A}=ee(Bu,re),{connecting:w,clickConnecting:M}=ee(ju(x,y,e),re);x||v.getState().onError?.("010",ke.error010());const k=P=>{const{defaultEdgeOptions:j,onConnect:V,hasDefaultEdges:L}=v.getState(),B={...j,...P};if(L){const{edges:f,setEdges:C}=v.getState();C(Ws(B,f))}V?.(B),c?.(B)},R=P=>{if(!x)return;const j=js(P);s&&(j&&P.button===0||!j)&&Ks({event:P,handleId:y,nodeId:x,onConnect:k,isTarget:g,getState:v.getState,setState:v.setState,isValidConnection:n||v.getState().isValidConnection||$o}),j?l?.(P):d?.(P)},D=P=>{const{onClickConnectStart:j,onClickConnectEnd:V,connectionClickStartHandle:L,connectionMode:B,isValidConnection:f}=v.getState();if(!x||!L&&!s)return;if(!L){j?.(P,{nodeId:x,handleId:y,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:x,type:e,handleId:y}});return}const C=Rs(P.target),b=n||f||$o,{connection:T,isValid:H}=Gs({nodeId:x,id:y,type:e},B,L.nodeId,L.handleId||null,L.type,b,C);H&&k(T),V?.(P),v.setState({connectionClickStartHandle:null})};return _.createElement("div",{"data-handleid":y,"data-nodeid":x,"data-handlepos":t,"data-id":`${x}-${y}-${e}`,className:ce(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",A,u,{source:!g,target:g,connectable:o,connectablestart:s,connectableend:i,connecting:M,connectionindicator:o&&(s&&!w||i&&w)}]),onMouseDown:R,onTouchStart:R,onClick:E?D:void 0,ref:p,...h},a)});Qs.displayName="Handle";var Ut=S.memo(Qs);const Js=({data:e,isConnectable:t,targetPosition:n=Y.Top,sourcePosition:o=Y.Bottom})=>_.createElement(_.Fragment,null,_.createElement(Ut,{type:"target",position:n,isConnectable:t}),e?.label,_.createElement(Ut,{type:"source",position:o,isConnectable:t}));Js.displayName="DefaultNode";var Hn=S.memo(Js);const er=({data:e,isConnectable:t,sourcePosition:n=Y.Bottom})=>_.createElement(_.Fragment,null,e?.label,_.createElement(Ut,{type:"source",position:n,isConnectable:t}));er.displayName="InputNode";var tr=S.memo(er);const nr=({data:e,isConnectable:t,targetPosition:n=Y.Top})=>_.createElement(_.Fragment,null,_.createElement(Ut,{type:"target",position:n,isConnectable:t}),e?.label);nr.displayName="OutputNode";var or=S.memo(nr);const Qn=()=>null;Qn.displayName="GroupNode";const Vu=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Tt=e=>e.id;function Lu(e,t){return re(e.selectedNodes.map(Tt),t.selectedNodes.map(Tt))&&re(e.selectedEdges.map(Tt),t.selectedEdges.map(Tt))}const sr=S.memo(({onSelectionChange:e})=>{const t=se(),{selectedNodes:n,selectedEdges:o}=ee(Vu,Lu);return S.useEffect(()=>{const s={nodes:n,edges:o};e?.(s),t.getState().onSelectionChange.forEach(i=>i(s))},[n,o,e]),null});sr.displayName="SelectionListener";const Fu=e=>!!e.onSelectionChange;function Ou({onSelectionChange:e}){const t=ee(Fu);return e||t?_.createElement(sr,{onSelectionChange:e}):null}const Wu=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Qe(e,t){S.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Z(e,t,n){S.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const Yu=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,onConnect:s,onConnectStart:i,onConnectEnd:r,onClickConnectStart:c,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:l,nodesFocusable:d,edgesFocusable:h,edgesUpdatable:p,elevateNodesOnSelect:y,minZoom:g,maxZoom:v,nodeExtent:x,onNodesChange:E,onEdgesChange:A,elementsSelectable:w,connectionMode:M,snapGrid:k,snapToGrid:R,translateExtent:D,connectOnClick:P,defaultEdgeOptions:j,fitView:V,fitViewOptions:L,onNodesDelete:B,onEdgesDelete:f,onNodeDrag:C,onNodeDragStart:b,onNodeDragStop:T,onSelectionDrag:H,onSelectionDragStart:N,onSelectionDragStop:z,noPanClassName:I,nodeOrigin:$,rfId:O,autoPanOnConnect:F,autoPanOnNodeDrag:X,onError:U,connectionRadius:q,isValidConnection:Q,nodeDragThreshold:K})=>{const{setNodes:G,setEdges:ie,setDefaultNodesAndEdges:oe,setMinZoom:ue,setMaxZoom:ae,setTranslateExtent:ne,setNodeExtent:he,reset:J}=ee(Wu,re),W=se();return S.useEffect(()=>{const de=o?.map(be=>({...be,...j}));return oe(n,de),()=>{J()}},[]),Z("defaultEdgeOptions",j,W.setState),Z("connectionMode",M,W.setState),Z("onConnect",s,W.setState),Z("onConnectStart",i,W.setState),Z("onConnectEnd",r,W.setState),Z("onClickConnectStart",c,W.setState),Z("onClickConnectEnd",a,W.setState),Z("nodesDraggable",u,W.setState),Z("nodesConnectable",l,W.setState),Z("nodesFocusable",d,W.setState),Z("edgesFocusable",h,W.setState),Z("edgesUpdatable",p,W.setState),Z("elementsSelectable",w,W.setState),Z("elevateNodesOnSelect",y,W.setState),Z("snapToGrid",R,W.setState),Z("snapGrid",k,W.setState),Z("onNodesChange",E,W.setState),Z("onEdgesChange",A,W.setState),Z("connectOnClick",P,W.setState),Z("fitViewOnInit",V,W.setState),Z("fitViewOnInitOptions",L,W.setState),Z("onNodesDelete",B,W.setState),Z("onEdgesDelete",f,W.setState),Z("onNodeDrag",C,W.setState),Z("onNodeDragStart",b,W.setState),Z("onNodeDragStop",T,W.setState),Z("onSelectionDrag",H,W.setState),Z("onSelectionDragStart",N,W.setState),Z("onSelectionDragStop",z,W.setState),Z("noPanClassName",I,W.setState),Z("nodeOrigin",$,W.setState),Z("rfId",O,W.setState),Z("autoPanOnConnect",F,W.setState),Z("autoPanOnNodeDrag",X,W.setState),Z("onError",U,W.setState),Z("connectionRadius",q,W.setState),Z("isValidConnection",Q,W.setState),Z("nodeDragThreshold",K,W.setState),Qe(e,G),Qe(t,ie),Qe(g,ue),Qe(v,ae),Qe(D,ne),Qe(x,he),null},Do={display:"none"},Xu={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},rr="react-flow__node-desc",ir="react-flow__edge-desc",Uu="react-flow__aria-live",Zu=e=>e.ariaLiveMessage;function qu({rfId:e}){const t=ee(Zu);return _.createElement("div",{id:`${Uu}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Xu},t)}function Gu({rfId:e,disableKeyboardA11y:t}){return _.createElement(_.Fragment,null,_.createElement("div",{id:`${rr}-${e}`,style:Do},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),_.createElement("div",{id:`${ir}-${e}`,style:Do},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&_.createElement(qu,{rfId:e}))}var Nt=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,o]=S.useState(!1),s=S.useRef(!1),i=S.useRef(new Set([])),[r,c]=S.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),l=u.reduce((d,h)=>d.concat(...h),[]);return[u,l]}return[[],[]]},[e]);return S.useEffect(()=>{const a=typeof document<"u"?document:null,u=t?.target||a;if(e!==null){const l=p=>{if(s.current=p.ctrlKey||p.metaKey||p.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&Tn(p))return!1;const g=jo(p.code,c);i.current.add(p[g]),Bo(r,i.current,!1)&&(p.preventDefault(),o(!0))},d=p=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&Tn(p))return!1;const g=jo(p.code,c);Bo(r,i.current,!0)?(o(!1),i.current.clear()):i.current.delete(p[g]),p.key==="Meta"&&i.current.clear(),s.current=!1},h=()=>{i.current.clear(),o(!1)};return u?.addEventListener("keydown",l),u?.addEventListener("keyup",d),window.addEventListener("blur",h),()=>{u?.removeEventListener("keydown",l),u?.removeEventListener("keyup",d),window.removeEventListener("blur",h)}}},[e,o]),n};function Bo(e,t,n){return e.filter(o=>n||o.length===t.size).some(o=>o.every(s=>t.has(s)))}function jo(e,t){return t.includes(e)?"code":"key"}function cr(e,t,n,o){const s=e.parentNode||e.parentId;if(!s)return n;const i=t.get(s),r=Oe(i,o);return cr(i,t,{x:(n.x??0)+r.x,y:(n.y??0)+r.y,z:(i[te]?.z??0)>(n.z??0)?i[te]?.z??0:n.z??0},o)}function ar(e,t,n){e.forEach(o=>{const s=o.parentNode||o.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||n?.[o.id]){const{x:i,y:r,z:c}=cr(o,e,{...o.position,z:o[te]?.z??0},t);o.positionAbsolute={x:i,y:r},o[te].z=c,n?.[o.id]&&(o[te].isParent=!0)}})}function xn(e,t,n,o){const s=new Map,i={},r=o?1e3:0;return e.forEach(c=>{const a=(me(c.zIndex)?c.zIndex:0)+(c.selected?r:0),u=t.get(c.id),l={...c,positionAbsolute:{x:c.position.x,y:c.position.y}},d=c.parentNode||c.parentId;d&&(i[d]=!0);const h=u?.type&&u?.type!==c.type;Object.defineProperty(l,te,{enumerable:!1,value:{handleBounds:h?void 0:u?.[te]?.handleBounds,z:a}}),s.set(c.id,l)}),ar(s,n,i),s}function lr(e,t={}){const{getNodes:n,width:o,height:s,minZoom:i,maxZoom:r,d3Zoom:c,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:l,nodeOrigin:d}=e(),h=t.initial&&!u&&l;if(c&&a&&(h||!t.initial)){const y=n().filter(v=>{const x=t.includeHiddenNodes?v.width&&v.height:!v.hidden;return t.nodes?.length?x&&t.nodes.some(E=>E.id===v.id):x}),g=y.every(v=>v.width&&v.height);if(y.length>0&&g){const v=tn(y,d),{x,y:E,zoom:A}=Zs(v,o,s,t.minZoom??i,t.maxZoom??r,t.padding??.1),w=Ce.translate(x,E).scale(A);return typeof t.duration=="number"&&t.duration>0?c.transform(Le(a,t.duration),w):c.transform(a,w),!0}}return!1}function Ku(e,t){return e.forEach(n=>{const o=t.get(n.id);o&&t.set(o.id,{...o,[te]:o[te],selected:n.selected})}),new Map(t)}function Qu(e,t){return t.map(n=>{const o=e.find(s=>s.id===n.id);return o&&(n.selected=o.selected),n})}function Pt({changedNodes:e,changedEdges:t,get:n,set:o}){const{nodeInternals:s,edges:i,onNodesChange:r,onEdgesChange:c,hasDefaultNodes:a,hasDefaultEdges:u}=n();e?.length&&(a&&o({nodeInternals:Ku(e,s)}),r?.(e)),t?.length&&(u&&o({edges:Qu(t,i)}),c?.(t))}const Je=()=>{},Ju={zoomIn:Je,zoomOut:Je,zoomTo:Je,getZoom:()=>1,setViewport:Je,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Je,fitBounds:Je,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},ed=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),td=()=>{const e=se(),{d3Zoom:t,d3Selection:n}=ee(ed,re);return S.useMemo(()=>n&&t?{zoomIn:s=>t.scaleBy(Le(n,s?.duration),1.2),zoomOut:s=>t.scaleBy(Le(n,s?.duration),1/1.2),zoomTo:(s,i)=>t.scaleTo(Le(n,i?.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[r,c,a]=e.getState().transform,u=Ce.translate(s.x??r,s.y??c).scale(s.zoom??a);t.transform(Le(n,i?.duration),u)},getViewport:()=>{const[s,i,r]=e.getState().transform;return{x:s,y:i,zoom:r}},fitView:s=>lr(e.getState,s),setCenter:(s,i,r)=>{const{width:c,height:a,maxZoom:u}=e.getState(),l=typeof r?.zoom<"u"?r.zoom:u,d=c/2-s*l,h=a/2-i*l,p=Ce.translate(d,h).scale(l);t.transform(Le(n,r?.duration),p)},fitBounds:(s,i)=>{const{width:r,height:c,minZoom:a,maxZoom:u}=e.getState(),{x:l,y:d,zoom:h}=Zs(s,r,c,a,u,i?.padding??.1),p=Ce.translate(l,d).scale(h);t.transform(Le(n,i?.duration),p)},project:s=>{const{transform:i,snapToGrid:r,snapGrid:c}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),In(s,i,r,c)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:r,snapGrid:c,domNode:a}=e.getState();if(!a)return s;const{x:u,y:l}=a.getBoundingClientRect(),d={x:s.x-u,y:s.y-l};return In(d,i,r,c)},flowToScreenPosition:s=>{const{transform:i,domNode:r}=e.getState();if(!r)return s;const{x:c,y:a}=r.getBoundingClientRect(),u=Ys(s,i);return{x:u.x+c,y:u.y+a}},viewportInitialized:!0}:Ju,[t,n])};function Jn(){const e=td(),t=se(),n=S.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),o=S.useCallback(g=>t.getState().nodeInternals.get(g),[]),s=S.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(v=>({...v}))},[]),i=S.useCallback(g=>{const{edges:v=[]}=t.getState();return v.find(x=>x.id===g)},[]),r=S.useCallback(g=>{const{getNodes:v,setNodes:x,hasDefaultNodes:E,onNodesChange:A}=t.getState(),w=v(),M=typeof g=="function"?g(w):g;if(E)x(M);else if(A){const k=M.length===0?w.map(R=>({type:"remove",id:R.id})):M.map(R=>({item:R,type:"reset"}));A(k)}},[]),c=S.useCallback(g=>{const{edges:v=[],setEdges:x,hasDefaultEdges:E,onEdgesChange:A}=t.getState(),w=typeof g=="function"?g(v):g;if(E)x(w);else if(A){const M=w.length===0?v.map(k=>({type:"remove",id:k.id})):w.map(k=>({item:k,type:"reset"}));A(M)}},[]),a=S.useCallback(g=>{const v=Array.isArray(g)?g:[g],{getNodes:x,setNodes:E,hasDefaultNodes:A,onNodesChange:w}=t.getState();if(A){const k=[...x(),...v];E(k)}else if(w){const M=v.map(k=>({item:k,type:"add"}));w(M)}},[]),u=S.useCallback(g=>{const v=Array.isArray(g)?g:[g],{edges:x=[],setEdges:E,hasDefaultEdges:A,onEdgesChange:w}=t.getState();if(A)E([...x,...v]);else if(w){const M=v.map(k=>({item:k,type:"add"}));w(M)}},[]),l=S.useCallback(()=>{const{getNodes:g,edges:v=[],transform:x}=t.getState(),[E,A,w]=x;return{nodes:g().map(M=>({...M})),edges:v.map(M=>({...M})),viewport:{x:E,y:A,zoom:w}}},[]),d=S.useCallback(({nodes:g,edges:v})=>{const{nodeInternals:x,getNodes:E,edges:A,hasDefaultNodes:w,hasDefaultEdges:M,onNodesDelete:k,onEdgesDelete:R,onNodesChange:D,onEdgesChange:P}=t.getState(),j=(g||[]).map(C=>C.id),V=(v||[]).map(C=>C.id),L=E().reduce((C,b)=>{const T=b.parentNode||b.parentId,H=!j.includes(b.id)&&T&&C.find(z=>z.id===T);return(typeof b.deletable!="boolean"||b.deletable)&&(j.includes(b.id)||H)&&C.push(b),C},[]),B=A.filter(C=>typeof C.deletable=="boolean"?C.deletable:!0),f=B.filter(C=>V.includes(C.id));if(L||f){const C=Us(L,B),b=[...f,...C],T=b.reduce((H,N)=>(H.includes(N.id)||H.push(N.id),H),[]);if((M||w)&&(M&&t.setState({edges:A.filter(H=>!T.includes(H.id))}),w&&(L.forEach(H=>{x.delete(H.id)}),t.setState({nodeInternals:new Map(x)}))),T.length>0&&(R?.(b),P&&P(T.map(H=>({id:H,type:"remove"})))),L.length>0&&(k?.(L),D)){const H=L.map(N=>({id:N.id,type:"remove"}));D(H)}}},[]),h=S.useCallback(g=>{const v=bu(g),x=v?null:t.getState().nodeInternals.get(g.id);return!v&&!x?[null,null,v]:[v?g:To(x),x,v]},[]),p=S.useCallback((g,v=!0,x)=>{const[E,A,w]=h(g);return E?(x||t.getState().getNodes()).filter(M=>{if(!w&&(M.id===A.id||!M.positionAbsolute))return!1;const k=To(M),R=Mn(k,E);return v&&R>0||R>=E.width*E.height}):[]},[]),y=S.useCallback((g,v,x=!0)=>{const[E]=h(g);if(!E)return!1;const A=Mn(E,v);return x&&A>0||A>=E.width*E.height},[]);return S.useMemo(()=>({...e,getNodes:n,getNode:o,getEdges:s,getEdge:i,setNodes:r,setEdges:c,addNodes:a,addEdges:u,toObject:l,deleteElements:d,getIntersectingNodes:p,isNodeIntersecting:y}),[e,n,o,s,i,r,c,a,u,l,d,p,y])}const nd={actInsideInputWithModifier:!1};var od=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=se(),{deleteElements:o}=Jn(),s=Nt(e,nd),i=Nt(t);S.useEffect(()=>{if(s){const{edges:r,getNodes:c}=n.getState(),a=c().filter(l=>l.selected),u=r.filter(l=>l.selected);o({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[s]),S.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function sd(e){const t=se();S.useEffect(()=>{let n;const o=()=>{if(!e.current)return;const s=Yn(e.current);(s.height===0||s.width===0)&&t.getState().onError?.("004",ke.error004()),t.setState({width:s.width||500,height:s.height||500})};return o(),window.addEventListener("resize",o),e.current&&(n=new ResizeObserver(()=>o()),n.observe(e.current)),()=>{window.removeEventListener("resize",o),n&&e.current&&n.unobserve(e.current)}},[])}const eo={position:"absolute",width:"100%",height:"100%",top:0,left:0},rd=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,zt=e=>({x:e.x,y:e.y,zoom:e.k}),et=(e,t)=>e.target.closest(`.${t}`),Vo=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Lo=e=>{const t=e.ctrlKey&&Wt()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},id=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),cd=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:o,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:r=!1,panOnScrollSpeed:c=.5,panOnScrollMode:a=Fe.Free,zoomOnDoubleClick:u=!0,elementsSelectable:l,panOnDrag:d=!0,defaultViewport:h,translateExtent:p,minZoom:y,maxZoom:g,zoomActivationKeyCode:v,preventScrolling:x=!0,children:E,noWheelClassName:A,noPanClassName:w})=>{const M=S.useRef(),k=se(),R=S.useRef(!1),D=S.useRef(!1),P=S.useRef(null),j=S.useRef({x:0,y:0,zoom:0}),{d3Zoom:V,d3Selection:L,d3ZoomHandler:B,userSelectionActive:f}=ee(id,re),C=Nt(v),b=S.useRef(0),T=S.useRef(!1),H=S.useRef();return sd(P),S.useEffect(()=>{if(P.current){const N=P.current.getBoundingClientRect(),z=zs().scaleExtent([y,g]).translateExtent(p),I=pe(P.current).call(z),$=Ce.translate(h.x,h.y).scale(ct(h.zoom,y,g)),O=[[0,0],[N.width,N.height]],F=z.constrain()($,O,p);z.transform(I,F),z.wheelDelta(Lo),k.setState({d3Zoom:z,d3Selection:I,d3ZoomHandler:I.on("wheel.zoom"),transform:[F.x,F.y,F.k],domNode:P.current.closest(".react-flow")})}},[]),S.useEffect(()=>{L&&V&&(r&&!C&&!f?L.on("wheel.zoom",N=>{if(et(N,A))return!1;N.preventDefault(),N.stopImmediatePropagation();const z=L.property("__zoom").k||1;if(N.ctrlKey&&i){const Q=ge(N),K=Lo(N),G=z*Math.pow(2,K);V.scaleTo(L,G,Q,N);return}const I=N.deltaMode===1?20:1;let $=a===Fe.Vertical?0:N.deltaX*I,O=a===Fe.Horizontal?0:N.deltaY*I;!Wt()&&N.shiftKey&&a!==Fe.Vertical&&($=N.deltaY*I,O=0),V.translateBy(L,-($/z)*c,-(O/z)*c,{internal:!0});const F=zt(L.property("__zoom")),{onViewportChangeStart:X,onViewportChange:U,onViewportChangeEnd:q}=k.getState();clearTimeout(H.current),T.current||(T.current=!0,t?.(N,F),X?.(F)),T.current&&(e?.(N,F),U?.(F),H.current=setTimeout(()=>{n?.(N,F),q?.(F),T.current=!1},150))},{passive:!1}):typeof B<"u"&&L.on("wheel.zoom",function(N,z){if(!x&&N.type==="wheel"&&!N.ctrlKey||et(N,A))return null;N.preventDefault(),B.call(this,N,z)},{passive:!1}))},[f,r,a,L,V,B,C,i,x,A,t,e,n]),S.useEffect(()=>{V&&V.on("start",N=>{if(!N.sourceEvent||N.sourceEvent.internal)return null;b.current=N.sourceEvent?.button;const{onViewportChangeStart:z}=k.getState(),I=zt(N.transform);R.current=!0,j.current=I,N.sourceEvent?.type==="mousedown"&&k.setState({paneDragging:!0}),z?.(I),t?.(N.sourceEvent,I)})},[V,t]),S.useEffect(()=>{V&&(f&&!R.current?V.on("zoom",null):f||V.on("zoom",N=>{const{onViewportChange:z}=k.getState();if(k.setState({transform:[N.transform.x,N.transform.y,N.transform.k]}),D.current=!!(o&&Vo(d,b.current??0)),(e||z)&&!N.sourceEvent?.internal){const I=zt(N.transform);z?.(I),e?.(N.sourceEvent,I)}}))},[f,V,e,d,o]),S.useEffect(()=>{V&&V.on("end",N=>{if(!N.sourceEvent||N.sourceEvent.internal)return null;const{onViewportChangeEnd:z}=k.getState();if(R.current=!1,k.setState({paneDragging:!1}),o&&Vo(d,b.current??0)&&!D.current&&o(N.sourceEvent),D.current=!1,(n||z)&&rd(j.current,N.transform)){const I=zt(N.transform);j.current=I,clearTimeout(M.current),M.current=setTimeout(()=>{z?.(I),n?.(N.sourceEvent,I)},r?150:0)}})},[V,r,d,n,o]),S.useEffect(()=>{V&&V.filter(N=>{const z=C||s,I=i&&N.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&N.button===1&&N.type==="mousedown"&&(et(N,"react-flow__node")||et(N,"react-flow__edge")))return!0;if(!d&&!z&&!r&&!u&&!i||f||!u&&N.type==="dblclick"||et(N,A)&&N.type==="wheel"||et(N,w)&&(N.type!=="wheel"||r&&N.type==="wheel"&&!C)||!i&&N.ctrlKey&&N.type==="wheel"||!z&&!r&&!I&&N.type==="wheel"||!d&&(N.type==="mousedown"||N.type==="touchstart")||Array.isArray(d)&&!d.includes(N.button)&&N.type==="mousedown")return!1;const $=Array.isArray(d)&&d.includes(N.button)||!N.button||N.button<=1;return(!N.ctrlKey||N.type==="wheel")&&$})},[f,V,s,i,r,u,d,l,C]),_.createElement("div",{className:"react-flow__renderer",ref:P,style:eo},E)},ad=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function ld(){const{userSelectionActive:e,userSelectionRect:t}=ee(ad,re);return e&&t?_.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Fo(e,t){const n=t.parentNode||t.parentId,o=e.find(s=>s.id===n);if(o){const s=t.position.x+t.width-o.width,i=t.position.y+t.height-o.height;if(s>0||i>0||t.position.x<0||t.position.y<0){if(o.style={...o.style},o.style.width=o.style.width??o.width,o.style.height=o.style.height??o.height,s>0&&(o.style.width+=s),i>0&&(o.style.height+=i),t.position.x<0){const r=Math.abs(t.position.x);o.position.x=o.position.x-r,o.style.width+=r,t.position.x=0}if(t.position.y<0){const r=Math.abs(t.position.y);o.position.y=o.position.y-r,o.style.height+=r,t.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function ur(e,t){if(e.some(o=>o.type==="reset"))return e.filter(o=>o.type==="reset").map(o=>o.item);const n=e.filter(o=>o.type==="add").map(o=>o.item);return t.reduce((o,s)=>{const i=e.filter(c=>c.id===s.id);if(i.length===0)return o.push(s),o;const r={...s};for(const c of i)if(c)switch(c.type){case"select":{r.selected=c.selected;break}case"position":{typeof c.position<"u"&&(r.position=c.position),typeof c.positionAbsolute<"u"&&(r.positionAbsolute=c.positionAbsolute),typeof c.dragging<"u"&&(r.dragging=c.dragging),r.expandParent&&Fo(o,r);break}case"dimensions":{typeof c.dimensions<"u"&&(r.width=c.dimensions.width,r.height=c.dimensions.height),typeof c.updateStyle<"u"&&(r.style={...r.style||{},...c.dimensions}),typeof c.resizing=="boolean"&&(r.resizing=c.resizing),r.expandParent&&Fo(o,r);break}case"remove":return o}return o.push(r),o},n)}function dr(e,t){return ur(e,t)}function ud(e,t){return ur(e,t)}const Te=(e,t)=>({id:e,type:"select",selected:t});function nt(e,t){return e.reduce((n,o)=>{const s=t.includes(o.id);return!o.selected&&s?(o.selected=!0,n.push(Te(o.id,!0))):o.selected&&!s&&(o.selected=!1,n.push(Te(o.id,!1))),n},[])}const yn=(e,t)=>n=>{n.target===t.current&&e?.(n)},dd=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),hr=S.memo(({isSelecting:e,selectionMode:t=bt.Full,panOnDrag:n,onSelectionStart:o,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:r,onPaneScroll:c,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:l,children:d})=>{const h=S.useRef(null),p=se(),y=S.useRef(0),g=S.useRef(0),v=S.useRef(),{userSelectionActive:x,elementsSelectable:E,dragging:A}=ee(dd,re),w=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,g.current=0},M=B=>{i?.(B),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},k=B=>{if(Array.isArray(n)&&n?.includes(2)){B.preventDefault();return}r?.(B)},R=c?B=>c(B):void 0,D=B=>{const{resetSelectedElements:f,domNode:C}=p.getState();if(v.current=C?.getBoundingClientRect(),!E||!e||B.button!==0||B.target!==h.current||!v.current)return;const{x:b,y:T}=Ie(B,v.current);f(),p.setState({userSelectionRect:{width:0,height:0,startX:b,startY:T,x:b,y:T}}),o?.(B)},P=B=>{const{userSelectionRect:f,nodeInternals:C,edges:b,transform:T,onNodesChange:H,onEdgesChange:N,nodeOrigin:z,getNodes:I}=p.getState();if(!e||!v.current||!f)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const $=Ie(B,v.current),O=f.startX??0,F=f.startY??0,X={...f,x:$.x<O?$.x:O,y:$.y<F?$.y:F,width:Math.abs($.x-O),height:Math.abs($.y-F)},U=I(),q=Xs(C,X,T,t===bt.Partial,!0,z),Q=Us(q,b).map(G=>G.id),K=q.map(G=>G.id);if(y.current!==K.length){y.current=K.length;const G=nt(U,K);G.length&&H?.(G)}if(g.current!==Q.length){g.current=Q.length;const G=nt(b,Q);G.length&&N?.(G)}p.setState({userSelectionRect:X})},j=B=>{if(B.button!==0)return;const{userSelectionRect:f}=p.getState();!x&&f&&B.target===h.current&&M?.(B),p.setState({nodesSelectionActive:y.current>0}),w(),s?.(B)},V=B=>{x&&(p.setState({nodesSelectionActive:y.current>0}),s?.(B)),w()},L=E&&(e||x);return _.createElement("div",{className:ce(["react-flow__pane",{dragging:A,selection:e}]),onClick:L?void 0:yn(M,h),onContextMenu:yn(k,h),onWheel:yn(R,h),onMouseEnter:L?void 0:a,onMouseDown:L?D:void 0,onMouseMove:L?P:u,onMouseUp:L?j:void 0,onMouseLeave:L?V:l,ref:h,style:eo},d,_.createElement(ld,null))});hr.displayName="Pane";function fr(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const o=t.get(n);return o?o.selected?!0:fr(o,t):!1}function Oo(e,t,n){let o=e;do{if(o?.matches(t))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function hd(e,t,n,o){return Array.from(e.values()).filter(s=>(s.selected||s.id===o)&&(!s.parentNode||s.parentId||!fr(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>({id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(s.positionAbsolute?.x??0),y:n.y-(s.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}))}function fd(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function pr(e,t,n,o,s=[0,0],i){const r=fd(e,e.extent||o);let c=r;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const d=n.get(a),{x:h,y:p}=Oe(d,s).positionAbsolute;c=d&&me(h)&&me(p)&&me(d.width)&&me(d.height)?[[h+e.width*s[0],p+e.height*s[1]],[h+d.width-e.width+e.width*s[0],p+d.height-e.height+e.height*s[1]]]:c}else i?.("005",ke.error005()),c=r;else if(e.extent&&a&&e.extent!=="parent"){const d=n.get(a),{x:h,y:p}=Oe(d,s).positionAbsolute;c=[[e.extent[0][0]+h,e.extent[0][1]+p],[e.extent[1][0]+h,e.extent[1][1]+p]]}let u={x:0,y:0};if(a){const d=n.get(a);u=Oe(d,s).positionAbsolute}const l=c&&c!=="parent"?Xn(t,c):t;return{position:{x:l.x-u.x,y:l.y-u.y},positionAbsolute:l}}function wn({nodeId:e,dragItems:t,nodeInternals:n}){const o=t.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?o.find(s=>s.id===e):o[0],o]}const Wo=(e,t,n,o)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),r=t.getBoundingClientRect(),c={x:r.width*o[0],y:r.height*o[1]};return i.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-r.left-c.x)/n,y:(u.top-r.top-c.y)/n,...Yn(a)}})};function pt(e,t,n){return n===void 0?n:o=>{const s=t().nodeInternals.get(e);s&&n(o,{...s})}}function Rn({id:e,store:t,unselect:n=!1,nodeRef:o}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:r,nodeInternals:c,onError:a}=t.getState(),u=c.get(e);if(!u){a?.("012",ke.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&r)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):s([e])}function pd(){const e=se();return S.useCallback(({sourceEvent:n})=>{const{transform:o,snapGrid:s,snapToGrid:i}=e.getState(),r=n.touches?n.touches[0].clientX:n.clientX,c=n.touches?n.touches[0].clientY:n.clientY,a={x:(r-o[0])/o[2],y:(c-o[1])/o[2]};return{xSnapped:i?s[0]*Math.round(a.x/s[0]):a.x,ySnapped:i?s[1]*Math.round(a.y/s[1]):a.y,...a}},[])}function vn(e){return(t,n,o)=>e?.(t,o)}function mr({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:o,nodeId:s,isSelectable:i,selectNodesOnDrag:r}){const c=se(),[a,u]=S.useState(!1),l=S.useRef([]),d=S.useRef({x:null,y:null}),h=S.useRef(0),p=S.useRef(null),y=S.useRef({x:0,y:0}),g=S.useRef(null),v=S.useRef(!1),x=S.useRef(!1),E=S.useRef(!1),A=pd();return S.useEffect(()=>{if(e?.current){const w=pe(e.current),M=({x:D,y:P})=>{const{nodeInternals:j,onNodeDrag:V,onSelectionDrag:L,updateNodePositions:B,nodeExtent:f,snapGrid:C,snapToGrid:b,nodeOrigin:T,onError:H}=c.getState();d.current={x:D,y:P};let N=!1,z={x:0,y:0,x2:0,y2:0};if(l.current.length>1&&f){const $=tn(l.current,T);z=St($)}if(l.current=l.current.map($=>{const O={x:D-$.distance.x,y:P-$.distance.y};b&&(O.x=C[0]*Math.round(O.x/C[0]),O.y=C[1]*Math.round(O.y/C[1]));const F=[[f[0][0],f[0][1]],[f[1][0],f[1][1]]];l.current.length>1&&f&&!$.extent&&(F[0][0]=$.positionAbsolute.x-z.x+f[0][0],F[1][0]=$.positionAbsolute.x+($.width??0)-z.x2+f[1][0],F[0][1]=$.positionAbsolute.y-z.y+f[0][1],F[1][1]=$.positionAbsolute.y+($.height??0)-z.y2+f[1][1]);const X=pr($,O,j,F,T,H);return N=N||$.position.x!==X.position.x||$.position.y!==X.position.y,$.position=X.position,$.positionAbsolute=X.positionAbsolute,$}),!N)return;B(l.current,!0,!0),u(!0);const I=s?V:vn(L);if(I&&g.current){const[$,O]=wn({nodeId:s,dragItems:l.current,nodeInternals:j});I(g.current,$,O)}},k=()=>{if(!p.current)return;const[D,P]=Hs(y.current,p.current);if(D!==0||P!==0){const{transform:j,panBy:V}=c.getState();d.current.x=(d.current.x??0)-D/j[2],d.current.y=(d.current.y??0)-P/j[2],V({x:D,y:P})&&M(d.current)}h.current=requestAnimationFrame(k)},R=D=>{const{nodeInternals:P,multiSelectionActive:j,nodesDraggable:V,unselectNodesAndEdges:L,onNodeDragStart:B,onSelectionDragStart:f}=c.getState();x.current=!0;const C=s?B:vn(f);(!r||!i)&&!j&&s&&(P.get(s)?.selected||L()),s&&i&&r&&Rn({id:s,store:c,nodeRef:e});const b=A(D);if(d.current=b,l.current=hd(P,V,b,s),C&&l.current){const[T,H]=wn({nodeId:s,dragItems:l.current,nodeInternals:P});C(D.sourceEvent,T,H)}};if(t)w.on(".drag",null);else{const D=Wa().on("start",P=>{const{domNode:j,nodeDragThreshold:V}=c.getState();V===0&&R(P),E.current=!1;const L=A(P);d.current=L,p.current=j?.getBoundingClientRect()||null,y.current=Ie(P.sourceEvent,p.current)}).on("drag",P=>{const j=A(P),{autoPanOnNodeDrag:V,nodeDragThreshold:L}=c.getState();if(P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1&&(E.current=!0),!E.current){if(!v.current&&x.current&&V&&(v.current=!0,k()),!x.current){const B=j.xSnapped-(d?.current?.x??0),f=j.ySnapped-(d?.current?.y??0);Math.sqrt(B*B+f*f)>L&&R(P)}(d.current.x!==j.xSnapped||d.current.y!==j.ySnapped)&&l.current&&x.current&&(g.current=P.sourceEvent,y.current=Ie(P.sourceEvent,p.current),M(j))}}).on("end",P=>{if(!(!x.current||E.current)&&(u(!1),v.current=!1,x.current=!1,cancelAnimationFrame(h.current),l.current)){const{updateNodePositions:j,nodeInternals:V,onNodeDragStop:L,onSelectionDragStop:B}=c.getState(),f=s?L:vn(B);if(j(l.current,!1,!1),f){const[C,b]=wn({nodeId:s,dragItems:l.current,nodeInternals:V});f(P.sourceEvent,C,b)}}}).filter(P=>{const j=P.target;return!P.button&&(!n||!Oo(j,`.${n}`,e))&&(!o||Oo(j,o,e))});return w.call(D),()=>{w.on(".drag",null)}}}},[e,t,n,o,i,c,s,r,A]),a}function gr(){const e=se();return S.useCallback(n=>{const{nodeInternals:o,nodeExtent:s,updateNodePositions:i,getNodes:r,snapToGrid:c,snapGrid:a,onError:u,nodesDraggable:l}=e.getState(),d=r().filter(E=>E.selected&&(E.draggable||l&&typeof E.draggable>"u")),h=c?a[0]:5,p=c?a[1]:5,y=n.isShiftPressed?4:1,g=n.x*h*y,v=n.y*p*y,x=d.map(E=>{if(E.positionAbsolute){const A={x:E.positionAbsolute.x+g,y:E.positionAbsolute.y+v};c&&(A.x=a[0]*Math.round(A.x/a[0]),A.y=a[1]*Math.round(A.y/a[1]));const{positionAbsolute:w,position:M}=pr(E,A,o,s,void 0,u);E.position=M,E.positionAbsolute=w}return E});i(x,!0,!1)},[])}const st={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var mt=e=>{const t=({id:n,type:o,data:s,xPos:i,yPos:r,xPosOrigin:c,yPosOrigin:a,selected:u,onClick:l,onMouseEnter:d,onMouseMove:h,onMouseLeave:p,onContextMenu:y,onDoubleClick:g,style:v,className:x,isDraggable:E,isSelectable:A,isConnectable:w,isFocusable:M,selectNodesOnDrag:k,sourcePosition:R,targetPosition:D,hidden:P,resizeObserver:j,dragHandle:V,zIndex:L,isParent:B,noDragClassName:f,noPanClassName:C,initialized:b,disableKeyboardA11y:T,ariaLabel:H,rfId:N,hasHandleBounds:z})=>{const I=se(),$=S.useRef(null),O=S.useRef(null),F=S.useRef(R),X=S.useRef(D),U=S.useRef(o),q=A||E||l||d||h||p,Q=gr(),K=pt(n,I.getState,d),G=pt(n,I.getState,h),ie=pt(n,I.getState,p),oe=pt(n,I.getState,y),ue=pt(n,I.getState,g),ae=J=>{const{nodeDragThreshold:W}=I.getState();if(A&&(!k||!E||W>0)&&Rn({id:n,store:I,nodeRef:$}),l){const de=I.getState().nodeInternals.get(n);de&&l(J,{...de})}},ne=J=>{if(!Tn(J)&&!T)if(Bs.includes(J.key)&&A){const W=J.key==="Escape";Rn({id:n,store:I,unselect:W,nodeRef:$})}else E&&u&&Object.prototype.hasOwnProperty.call(st,J.key)&&(I.setState({ariaLiveMessage:`Moved selected node ${J.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~r}`}),Q({x:st[J.key].x,y:st[J.key].y,isShiftPressed:J.shiftKey}))};S.useEffect(()=>()=>{O.current&&(j?.unobserve(O.current),O.current=null)},[]),S.useEffect(()=>{if($.current&&!P){const J=$.current;(!b||!z||O.current!==J)&&(O.current&&j?.unobserve(O.current),j?.observe(J),O.current=J)}},[P,b,z]),S.useEffect(()=>{const J=U.current!==o,W=F.current!==R,de=X.current!==D;$.current&&(J||W||de)&&(J&&(U.current=o),W&&(F.current=R),de&&(X.current=D),I.getState().updateNodeDimensions([{id:n,nodeElement:$.current,forceUpdate:!0}]))},[n,o,R,D]);const he=mr({nodeRef:$,disabled:P||!E,noDragClassName:f,handleSelector:V,nodeId:n,isSelectable:A,selectNodesOnDrag:k});return P?null:_.createElement("div",{className:ce(["react-flow__node",`react-flow__node-${o}`,{[C]:E},x,{selected:u,selectable:A,parent:B,dragging:he}]),ref:$,style:{zIndex:L,transform:`translate(${c}px,${a}px)`,pointerEvents:q?"all":"none",visibility:b?"visible":"hidden",...v},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:K,onMouseMove:G,onMouseLeave:ie,onContextMenu:oe,onClick:ae,onDoubleClick:ue,onKeyDown:M?ne:void 0,tabIndex:M?0:void 0,role:M?"button":void 0,"aria-describedby":T?void 0:`${rr}-${N}`,"aria-label":H},_.createElement(Mu,{value:n},_.createElement(e,{id:n,data:s,type:o,xPos:i,yPos:r,selected:u,isConnectable:w,sourcePosition:R,targetPosition:D,dragging:he,dragHandle:V,zIndex:L})))};return t.displayName="NodeWrapper",S.memo(t)};const md=e=>{const t=e.getNodes().filter(n=>n.selected);return{...tn(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function gd({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const o=se(),{width:s,height:i,x:r,y:c,transformString:a,userSelectionActive:u}=ee(md,re),l=gr(),d=S.useRef(null);if(S.useEffect(()=>{n||d.current?.focus({preventScroll:!0})},[n]),mr({nodeRef:d}),u||!s||!i)return null;const h=e?y=>{const g=o.getState().getNodes().filter(v=>v.selected);e(y,g)}:void 0,p=y=>{Object.prototype.hasOwnProperty.call(st,y.key)&&l({x:st[y.key].x,y:st[y.key].y,isShiftPressed:y.shiftKey})};return _.createElement("div",{className:ce(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},_.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:s,height:i,top:c,left:r}}))}var xd=S.memo(gd);const yd=e=>e.nodesSelectionActive,xr=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:r,deleteKeyCode:c,onMove:a,onMoveStart:u,onMoveEnd:l,selectionKeyCode:d,selectionOnDrag:h,selectionMode:p,onSelectionStart:y,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:x,zoomActivationKeyCode:E,elementsSelectable:A,zoomOnScroll:w,zoomOnPinch:M,panOnScroll:k,panOnScrollSpeed:R,panOnScrollMode:D,zoomOnDoubleClick:P,panOnDrag:j,defaultViewport:V,translateExtent:L,minZoom:B,maxZoom:f,preventScrolling:C,onSelectionContextMenu:b,noWheelClassName:T,noPanClassName:H,disableKeyboardA11y:N})=>{const z=ee(yd),I=Nt(d),$=Nt(x),O=$||j,F=$||k,X=I||h&&O!==!0;return od({deleteKeyCode:c,multiSelectionKeyCode:v}),_.createElement(cd,{onMove:a,onMoveStart:u,onMoveEnd:l,onPaneContextMenu:i,elementsSelectable:A,zoomOnScroll:w,zoomOnPinch:M,panOnScroll:F,panOnScrollSpeed:R,panOnScrollMode:D,zoomOnDoubleClick:P,panOnDrag:!I&&O,defaultViewport:V,translateExtent:L,minZoom:B,maxZoom:f,zoomActivationKeyCode:E,preventScrolling:C,noWheelClassName:T,noPanClassName:H},_.createElement(hr,{onSelectionStart:y,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:r,panOnDrag:O,isSelecting:!!X,selectionMode:p},e,z&&_.createElement(xd,{onSelectionContextMenu:b,noPanClassName:H,disableKeyboardA11y:N})))};xr.displayName="FlowRenderer";var wd=S.memo(xr);function vd(e){return ee(S.useCallback(n=>e?Xs(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function Sd(e){const t={input:mt(e.input||tr),default:mt(e.default||Hn),output:mt(e.output||or),group:mt(e.group||Qn)},n={},o=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=mt(e[i]||Hn),s),n);return{...t,...o}}const bd=({x:e,y:t,width:n,height:o,origin:s})=>!n||!o?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-n*s[0],y:t-o*s[1]},Nd=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),yr=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:o,elementsSelectable:s,updateNodeDimensions:i,onError:r}=ee(Nd,re),c=vd(e.onlyRenderVisibleElements),a=S.useRef(),u=S.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const l=new ResizeObserver(d=>{const h=d.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));i(h)});return a.current=l,l},[]);return S.useEffect(()=>()=>{a?.current?.disconnect()},[]),_.createElement("div",{className:"react-flow__nodes",style:eo},c.map(l=>{let d=l.type||"default";e.nodeTypes[d]||(r?.("003",ke.error003(d)),d="default");const h=e.nodeTypes[d]||e.nodeTypes.default,p=!!(l.draggable||t&&typeof l.draggable>"u"),y=!!(l.selectable||s&&typeof l.selectable>"u"),g=!!(l.connectable||n&&typeof l.connectable>"u"),v=!!(l.focusable||o&&typeof l.focusable>"u"),x=e.nodeExtent?Xn(l.positionAbsolute,e.nodeExtent):l.positionAbsolute,E=x?.x??0,A=x?.y??0,w=bd({x:E,y:A,width:l.width??0,height:l.height??0,origin:e.nodeOrigin});return _.createElement(h,{key:l.id,id:l.id,className:l.className,style:l.style,type:d,data:l.data,sourcePosition:l.sourcePosition||Y.Bottom,targetPosition:l.targetPosition||Y.Top,hidden:l.hidden,xPos:E,yPos:A,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!l.selected,isDraggable:p,isSelectable:y,isConnectable:g,isFocusable:v,resizeObserver:u,dragHandle:l.dragHandle,zIndex:l[te]?.z??0,isParent:!!l[te]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!l.width&&!!l.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:l.ariaLabel,hasHandleBounds:!!l[te]?.handleBounds})}))};yr.displayName="NodeRenderer";var Ed=S.memo(yr);const _d=(e,t,n)=>n===Y.Left?e-t:n===Y.Right?e+t:e,Cd=(e,t,n)=>n===Y.Top?e-t:n===Y.Bottom?e+t:e,Yo="react-flow__edgeupdater",Xo=({position:e,centerX:t,centerY:n,radius:o=10,onMouseDown:s,onMouseEnter:i,onMouseOut:r,type:c})=>_.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:r,className:ce([Yo,`${Yo}-${c}`]),cx:_d(t,o,e),cy:Cd(n,o,e),r:o,stroke:"transparent",fill:"transparent"}),Ad=()=>!0;var tt=e=>{const t=({id:n,className:o,type:s,data:i,onClick:r,onEdgeDoubleClick:c,selected:a,animated:u,label:l,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:g,style:v,source:x,target:E,sourceX:A,sourceY:w,targetX:M,targetY:k,sourcePosition:R,targetPosition:D,elementsSelectable:P,hidden:j,sourceHandleId:V,targetHandleId:L,onContextMenu:B,onMouseEnter:f,onMouseMove:C,onMouseLeave:b,reconnectRadius:T,onReconnect:H,onReconnectStart:N,onReconnectEnd:z,markerEnd:I,markerStart:$,rfId:O,ariaLabel:F,isFocusable:X,isReconnectable:U,pathOptions:q,interactionWidth:Q,disableKeyboardA11y:K})=>{const G=S.useRef(null),[ie,oe]=S.useState(!1),[ue,ae]=S.useState(!1),ne=se(),he=S.useMemo(()=>`url('#${zn($,O)}')`,[$,O]),J=S.useMemo(()=>`url('#${zn(I,O)}')`,[I,O]);if(j)return null;const W=le=>{const{edges:we,addSelectedEdges:$e,unselectNodesAndEdges:De,multiSelectionActive:Ke}=ne.getState(),ve=we.find(Be=>Be.id===n);ve&&(P&&(ne.setState({nodesSelectionActive:!1}),ve.selected&&Ke?(De({nodes:[],edges:[ve]}),G.current?.blur()):$e([n])),r&&r(le,ve))},de=ft(n,ne.getState,c),be=ft(n,ne.getState,B),at=ft(n,ne.getState,f),Xe=ft(n,ne.getState,C),Ue=ft(n,ne.getState,b),Ne=(le,we)=>{if(le.button!==0)return;const{edges:$e,isValidConnection:De}=ne.getState(),Ke=we?E:x,ve=(we?L:V)||null,Be=we?"target":"source",on=De||Ad,sn=we,ut=$e.find(je=>je.id===n);ae(!0),N?.(le,ut,Be);const rn=je=>{ae(!1),z?.(je,ut,Be)};Ks({event:le,handleId:ve,nodeId:Ke,onConnect:je=>H?.(ut,je),isTarget:sn,getState:ne.getState,setState:ne.setState,isValidConnection:on,edgeUpdaterType:Be,onReconnectEnd:rn})},Ze=le=>Ne(le,!0),He=le=>Ne(le,!1),Re=()=>oe(!0),qe=()=>oe(!1),Ge=!P&&!r,lt=le=>{if(!K&&Bs.includes(le.key)&&P){const{unselectNodesAndEdges:we,addSelectedEdges:$e,edges:De}=ne.getState();le.key==="Escape"?(G.current?.blur(),we({edges:[De.find(ve=>ve.id===n)]})):$e([n])}};return _.createElement("g",{className:ce(["react-flow__edge",`react-flow__edge-${s}`,o,{selected:a,animated:u,inactive:Ge,updating:ie}]),onClick:W,onDoubleClick:de,onContextMenu:be,onMouseEnter:at,onMouseMove:Xe,onMouseLeave:Ue,onKeyDown:X?lt:void 0,tabIndex:X?0:void 0,role:X?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":F===null?void 0:F||`Edge from ${x} to ${E}`,"aria-describedby":X?`${ir}-${O}`:void 0,ref:G},!ue&&_.createElement(e,{id:n,source:x,target:E,selected:a,animated:u,label:l,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:y,labelBgBorderRadius:g,data:i,style:v,sourceX:A,sourceY:w,targetX:M,targetY:k,sourcePosition:R,targetPosition:D,sourceHandleId:V,targetHandleId:L,markerStart:he,markerEnd:J,pathOptions:q,interactionWidth:Q}),U&&_.createElement(_.Fragment,null,(U==="source"||U===!0)&&_.createElement(Xo,{position:R,centerX:A,centerY:w,radius:T,onMouseDown:Ze,onMouseEnter:Re,onMouseOut:qe,type:"source"}),(U==="target"||U===!0)&&_.createElement(Xo,{position:D,centerX:M,centerY:k,radius:T,onMouseDown:He,onMouseEnter:Re,onMouseOut:qe,type:"target"})))};return t.displayName="EdgeWrapper",S.memo(t)};function kd(e){const t={default:tt(e.default||Xt),straight:tt(e.bezier||qn),step:tt(e.step||Zn),smoothstep:tt(e.step||en),simplebezier:tt(e.simplebezier||Un)},n={},o=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=tt(e[i]||Xt),s),n);return{...t,...o}}function Uo(e,t,n=null){const o=(n?.x||0)+t.x,s=(n?.y||0)+t.y,i=n?.width||t.width,r=n?.height||t.height;switch(e){case Y.Top:return{x:o+i/2,y:s};case Y.Right:return{x:o+i,y:s+r/2};case Y.Bottom:return{x:o+i/2,y:s+r};case Y.Left:return{x:o,y:s+r/2}}}function Zo(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const Md=(e,t,n,o,s,i)=>{const r=Uo(n,e,t),c=Uo(i,o,s);return{sourceX:r.x,sourceY:r.y,targetX:c.x,targetY:c.y}};function Td({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:s,targetHeight:i,width:r,height:c,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+o,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const l=St({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:r/a[2],height:c/a[2]}),d=Math.max(0,Math.min(l.x2,u.x2)-Math.max(l.x,u.x)),h=Math.max(0,Math.min(l.y2,u.y2)-Math.max(l.y,u.y));return Math.ceil(d*h)>0}function qo(e){const t=e?.[te]?.handleBounds||null,n=t&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const Pd=[{level:0,isMaxLevel:!0,edges:[]}];function zd(e,t,n=!1){let o=-1;const s=e.reduce((r,c)=>{const a=me(c.zIndex);let u=a?c.zIndex:0;if(n){const l=t.get(c.target),d=t.get(c.source),h=c.selected||l?.selected||d?.selected,p=Math.max(d?.[te]?.z||0,l?.[te]?.z||0,1e3);u=(a?c.zIndex:0)+(h?p:0)}return r[u]?r[u].push(c):r[u]=[c],o=u>o?u:o,r},{}),i=Object.entries(s).map(([r,c])=>{const a=+r;return{edges:c,level:a,isMaxLevel:a===o}});return i.length===0?Pd:i}function Id(e,t,n){const o=ee(S.useCallback(s=>e?s.edges.filter(i=>{const r=t.get(i.source),c=t.get(i.target);return r?.width&&r?.height&&c?.width&&c?.height&&Td({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:c.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:c.width,targetHeight:c.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return zd(o,t,n)}const Hd=({color:e="none",strokeWidth:t=1})=>_.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Rd=({color:e="none",strokeWidth:t=1})=>_.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Go={[Yt.Arrow]:Hd,[Yt.ArrowClosed]:Rd};function $d(e){const t=se();return S.useMemo(()=>Object.prototype.hasOwnProperty.call(Go,e)?Go[e]:(t.getState().onError?.("009",ke.error009(e)),null),[e])}const Dd=({id:e,type:t,color:n,width:o=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:r,orient:c="auto-start-reverse"})=>{const a=$d(t);return a?_.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:c,refX:"0",refY:"0"},_.createElement(a,{color:n,strokeWidth:r})):null},Bd=({defaultColor:e,rfId:t})=>n=>{const o=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(r=>{if(r&&typeof r=="object"){const c=zn(r,t);o.includes(c)||(s.push({id:c,color:r.color||e,...r}),o.push(c))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},wr=({defaultColor:e,rfId:t})=>{const n=ee(S.useCallback(Bd({defaultColor:e,rfId:t}),[e,t]),(o,s)=>!(o.length!==s.length||o.some((i,r)=>i.id!==s[r].id)));return _.createElement("defs",null,n.map(o=>_.createElement(Dd,{id:o.id,key:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient})))};wr.displayName="MarkerDefinitions";var jd=S.memo(wr);const Vd=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),vr=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:o,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:r,onEdgeMouseEnter:c,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:l,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:g,children:v,disableKeyboardA11y:x})=>{const{edgesFocusable:E,edgesUpdatable:A,elementsSelectable:w,width:M,height:k,connectionMode:R,nodeInternals:D,onError:P}=ee(Vd,re),j=Id(t,D,n);return M?_.createElement(_.Fragment,null,j.map(({level:V,edges:L,isMaxLevel:B})=>_.createElement("svg",{key:V,style:{zIndex:V},width:M,height:k,className:"react-flow__edges react-flow__container"},B&&_.createElement(jd,{defaultColor:e,rfId:o}),_.createElement("g",null,L.map(f=>{const[C,b,T]=qo(D.get(f.source)),[H,N,z]=qo(D.get(f.target));if(!T||!z)return null;let I=f.type||"default";s[I]||(P?.("011",ke.error011(I)),I="default");const $=s[I]||s.default,O=R===Ye.Strict?N.target:(N.target??[]).concat(N.source??[]),F=Zo(b.source,f.sourceHandle),X=Zo(O,f.targetHandle),U=F?.position||Y.Bottom,q=X?.position||Y.Top,Q=!!(f.focusable||E&&typeof f.focusable>"u"),K=f.reconnectable||f.updatable,G=typeof h<"u"&&(K||A&&typeof K>"u");if(!F||!X)return P?.("008",ke.error008(F,f)),null;const{sourceX:ie,sourceY:oe,targetX:ue,targetY:ae}=Md(C,F,U,H,X,q);return _.createElement($,{key:f.id,id:f.id,className:ce([f.className,i]),type:I,data:f.data,selected:!!f.selected,animated:!!f.animated,hidden:!!f.hidden,label:f.label,labelStyle:f.labelStyle,labelShowBg:f.labelShowBg,labelBgStyle:f.labelBgStyle,labelBgPadding:f.labelBgPadding,labelBgBorderRadius:f.labelBgBorderRadius,style:f.style,source:f.source,target:f.target,sourceHandleId:f.sourceHandle,targetHandleId:f.targetHandle,markerEnd:f.markerEnd,markerStart:f.markerStart,sourceX:ie,sourceY:oe,targetX:ue,targetY:ae,sourcePosition:U,targetPosition:q,elementsSelectable:w,onContextMenu:r,onMouseEnter:c,onMouseMove:a,onMouseLeave:u,onClick:l,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:g,rfId:o,ariaLabel:f.ariaLabel,isFocusable:Q,isReconnectable:G,pathOptions:"pathOptions"in f?f.pathOptions:void 0,interactionWidth:f.interactionWidth,disableKeyboardA11y:x})})))),v):null};vr.displayName="EdgeRenderer";var Ld=S.memo(vr);const Fd=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Od({children:e}){const t=ee(Fd);return _.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function Wd(e){const t=Jn(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Yd={[Y.Left]:Y.Right,[Y.Right]:Y.Left,[Y.Top]:Y.Bottom,[Y.Bottom]:Y.Top},Sr=({nodeId:e,handleType:t,style:n,type:o=Pe.Bezier,CustomComponent:s,connectionStatus:i})=>{const{fromNode:r,handleId:c,toX:a,toY:u,connectionMode:l}=ee(S.useCallback(k=>({fromNode:k.nodeInternals.get(e),handleId:k.connectionHandleId,toX:(k.connectionPosition.x-k.transform[0])/k.transform[2],toY:(k.connectionPosition.y-k.transform[1])/k.transform[2],connectionMode:k.connectionMode}),[e]),re),d=r?.[te]?.handleBounds;let h=d?.[t];if(l===Ye.Loose&&(h=h||d?.[t==="source"?"target":"source"]),!r||!h)return null;const p=c?h.find(k=>k.id===c):h[0],y=p?p.x+p.width/2:(r.width??0)/2,g=p?p.y+p.height/2:r.height??0,v=(r.positionAbsolute?.x??0)+y,x=(r.positionAbsolute?.y??0)+g,E=p?.position,A=E?Yd[E]:null;if(!E||!A)return null;if(s)return _.createElement(s,{connectionLineType:o,connectionLineStyle:n,fromNode:r,fromHandle:p,fromX:v,fromY:x,toX:a,toY:u,fromPosition:E,toPosition:A,connectionStatus:i});let w="";const M={sourceX:v,sourceY:x,sourcePosition:E,targetX:a,targetY:u,targetPosition:A};return o===Pe.Bezier?[w]=Os(M):o===Pe.Step?[w]=Pn({...M,borderRadius:0}):o===Pe.SmoothStep?[w]=Pn(M):o===Pe.SimpleBezier?[w]=Fs(M):w=`M${v},${x} ${a},${u}`,_.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};Sr.displayName="ConnectionLine";const Xd=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Ud({containerStyle:e,style:t,type:n,component:o}){const{nodeId:s,handleType:i,nodesConnectable:r,width:c,height:a,connectionStatus:u}=ee(Xd,re);return!(s&&i&&c&&r)?null:_.createElement("svg",{style:e,width:c,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},_.createElement("g",{className:ce(["react-flow__connection",u])},_.createElement(Sr,{nodeId:s,handleType:i,style:t,type:n,CustomComponent:o,connectionStatus:u})))}function Ko(e,t){return S.useRef(null),se(),S.useMemo(()=>t(e),[e])}const br=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:o,onMoveEnd:s,onInit:i,onNodeClick:r,onEdgeClick:c,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:l,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:y,onSelectionStart:g,onSelectionEnd:v,connectionLineType:x,connectionLineStyle:E,connectionLineComponent:A,connectionLineContainerStyle:w,selectionKeyCode:M,selectionOnDrag:k,selectionMode:R,multiSelectionKeyCode:D,panActivationKeyCode:P,zoomActivationKeyCode:j,deleteKeyCode:V,onlyRenderVisibleElements:L,elementsSelectable:B,selectNodesOnDrag:f,defaultViewport:C,translateExtent:b,minZoom:T,maxZoom:H,preventScrolling:N,defaultMarkerColor:z,zoomOnScroll:I,zoomOnPinch:$,panOnScroll:O,panOnScrollSpeed:F,panOnScrollMode:X,zoomOnDoubleClick:U,panOnDrag:q,onPaneClick:Q,onPaneMouseEnter:K,onPaneMouseMove:G,onPaneMouseLeave:ie,onPaneScroll:oe,onPaneContextMenu:ue,onEdgeContextMenu:ae,onEdgeMouseEnter:ne,onEdgeMouseMove:he,onEdgeMouseLeave:J,onReconnect:W,onReconnectStart:de,onReconnectEnd:be,reconnectRadius:at,noDragClassName:Xe,noWheelClassName:Ue,noPanClassName:Ne,elevateEdgesOnSelect:Ze,disableKeyboardA11y:He,nodeOrigin:Re,nodeExtent:qe,rfId:Ge})=>{const lt=Ko(e,Sd),le=Ko(t,kd);return Wd(i),_.createElement(wd,{onPaneClick:Q,onPaneMouseEnter:K,onPaneMouseMove:G,onPaneMouseLeave:ie,onPaneContextMenu:ue,onPaneScroll:oe,deleteKeyCode:V,selectionKeyCode:M,selectionOnDrag:k,selectionMode:R,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:D,panActivationKeyCode:P,zoomActivationKeyCode:j,elementsSelectable:B,onMove:n,onMoveStart:o,onMoveEnd:s,zoomOnScroll:I,zoomOnPinch:$,zoomOnDoubleClick:U,panOnScroll:O,panOnScrollSpeed:F,panOnScrollMode:X,panOnDrag:q,defaultViewport:C,translateExtent:b,minZoom:T,maxZoom:H,onSelectionContextMenu:y,preventScrolling:N,noDragClassName:Xe,noWheelClassName:Ue,noPanClassName:Ne,disableKeyboardA11y:He},_.createElement(Od,null,_.createElement(Ld,{edgeTypes:le,onEdgeClick:c,onEdgeDoubleClick:u,onlyRenderVisibleElements:L,onEdgeContextMenu:ae,onEdgeMouseEnter:ne,onEdgeMouseMove:he,onEdgeMouseLeave:J,onReconnect:W,onReconnectStart:de,onReconnectEnd:be,reconnectRadius:at,defaultMarkerColor:z,noPanClassName:Ne,elevateEdgesOnSelect:!!Ze,disableKeyboardA11y:He,rfId:Ge},_.createElement(Ud,{style:E,type:x,component:A,containerStyle:w})),_.createElement("div",{className:"react-flow__edgelabel-renderer"}),_.createElement(Ed,{nodeTypes:lt,onNodeClick:r,onNodeDoubleClick:a,onNodeMouseEnter:l,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:f,onlyRenderVisibleElements:L,noPanClassName:Ne,noDragClassName:Xe,disableKeyboardA11y:He,nodeOrigin:Re,nodeExtent:qe,rfId:Ge})))};br.displayName="GraphView";var Zd=S.memo(br);const $n=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Me={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:$n,nodeExtent:$n,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ye.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Nu,isValidConnection:void 0},qd=()=>nc((e,t)=>({...Me,setNodes:n=>{const{nodeInternals:o,nodeOrigin:s,elevateNodesOnSelect:i}=t();e({nodeInternals:xn(n,o,s,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:o={}}=t();e({edges:n.map(s=>({...o,...s}))})},setDefaultNodesAndEdges:(n,o)=>{const s=typeof n<"u",i=typeof o<"u",r=s?xn(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:r,edges:i?o:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:o,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:r,fitViewOnInitOptions:c,domNode:a,nodeOrigin:u}=t(),l=a?.querySelector(".react-flow__viewport");if(!l)return;const d=window.getComputedStyle(l),{m22:h}=new window.DOMMatrixReadOnly(d.transform),p=n.reduce((g,v)=>{const x=s.get(v.id);if(x?.hidden)s.set(x.id,{...x,[te]:{...x[te],handleBounds:void 0}});else if(x){const E=Yn(v.nodeElement);E.width&&E.height&&(x.width!==E.width||x.height!==E.height||v.forceUpdate)&&(s.set(x.id,{...x,[te]:{...x[te],handleBounds:{source:Wo(".source",v.nodeElement,h,u),target:Wo(".target",v.nodeElement,h,u)}},...E}),g.push({id:x.id,type:"dimensions",dimensions:E}))}return g},[]);ar(s,u);const y=r||i&&!r&&lr(t,{initial:!0,...c});e({nodeInternals:new Map(s),fitViewOnInitDone:y}),p?.length>0&&o?.(p)},updateNodePositions:(n,o=!0,s=!1)=>{const{triggerNodeChanges:i}=t(),r=n.map(c=>{const a={id:c.id,type:"position",dragging:s};return o&&(a.positionAbsolute=c.positionAbsolute,a.position=c.position),a});i(r)},triggerNodeChanges:n=>{const{onNodesChange:o,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:r,getNodes:c,elevateNodesOnSelect:a}=t();if(n?.length){if(i){const u=dr(n,c()),l=xn(u,s,r,a);e({nodeInternals:l})}o?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:o,edges:s,getNodes:i}=t();let r,c=null;o?r=n.map(a=>Te(a,!0)):(r=nt(i(),n),c=nt(s,[])),Pt({changedNodes:r,changedEdges:c,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:o,edges:s,getNodes:i}=t();let r,c=null;o?r=n.map(a=>Te(a,!0)):(r=nt(s,n),c=nt(i(),[])),Pt({changedNodes:c,changedEdges:r,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:o}={})=>{const{edges:s,getNodes:i}=t(),r=n||i(),c=o||s,a=r.map(l=>(l.selected=!1,Te(l.id,!1))),u=c.map(l=>Te(l.id,!1));Pt({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:o,maxZoom:s}=t();o?.scaleExtent([n,s]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:o,minZoom:s}=t();o?.scaleExtent([s,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:o}=t(),i=o().filter(c=>c.selected).map(c=>Te(c.id,!1)),r=n.filter(c=>c.selected).map(c=>Te(c.id,!1));Pt({changedNodes:i,changedEdges:r,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:o}=t();o.forEach(s=>{s.positionAbsolute=Xn(s.position,n)}),e({nodeExtent:n,nodeInternals:new Map(o)})},panBy:n=>{const{transform:o,width:s,height:i,d3Zoom:r,d3Selection:c,translateExtent:a}=t();if(!r||!c||!n.x&&!n.y)return!1;const u=Ce.translate(o[0]+n.x,o[1]+n.y).scale(o[2]),l=[[0,0],[s,i]],d=r?.constrain()(u,l,a);return r.transform(c,d),o[0]!==d.x||o[1]!==d.y||o[2]!==d.k},cancelConnection:()=>e({connectionNodeId:Me.connectionNodeId,connectionHandleId:Me.connectionHandleId,connectionHandleType:Me.connectionHandleType,connectionStatus:Me.connectionStatus,connectionStartHandle:Me.connectionStartHandle,connectionEndHandle:Me.connectionEndHandle}),reset:()=>e({...Me})}),Object.is),Nr=({children:e})=>{const t=S.useRef(null);return t.current||(t.current=qd()),_.createElement(gu,{value:t.current},e)};Nr.displayName="ReactFlowProvider";const Er=({children:e})=>S.useContext(Jt)?_.createElement(_.Fragment,null,e):_.createElement(Nr,null,e);Er.displayName="ReactFlowWrapper";const Gd={input:tr,default:Hn,output:or,group:Qn},Kd={default:Xt,straight:qn,step:Zn,smoothstep:en,simplebezier:Un},Qd=[0,0],Jd=[15,15],eh={x:0,y:0,zoom:1},th={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},_r=S.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,className:s,nodeTypes:i=Gd,edgeTypes:r=Kd,onNodeClick:c,onEdgeClick:a,onInit:u,onMove:l,onMoveStart:d,onMoveEnd:h,onConnect:p,onConnectStart:y,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:x,onNodeMouseEnter:E,onNodeMouseMove:A,onNodeMouseLeave:w,onNodeContextMenu:M,onNodeDoubleClick:k,onNodeDragStart:R,onNodeDrag:D,onNodeDragStop:P,onNodesDelete:j,onEdgesDelete:V,onSelectionChange:L,onSelectionDragStart:B,onSelectionDrag:f,onSelectionDragStop:C,onSelectionContextMenu:b,onSelectionStart:T,onSelectionEnd:H,connectionMode:N=Ye.Strict,connectionLineType:z=Pe.Bezier,connectionLineStyle:I,connectionLineComponent:$,connectionLineContainerStyle:O,deleteKeyCode:F="Backspace",selectionKeyCode:X="Shift",selectionOnDrag:U=!1,selectionMode:q=bt.Full,panActivationKeyCode:Q="Space",multiSelectionKeyCode:K=Wt()?"Meta":"Control",zoomActivationKeyCode:G=Wt()?"Meta":"Control",snapToGrid:ie=!1,snapGrid:oe=Jd,onlyRenderVisibleElements:ue=!1,selectNodesOnDrag:ae=!0,nodesDraggable:ne,nodesConnectable:he,nodesFocusable:J,nodeOrigin:W=Qd,edgesFocusable:de,edgesUpdatable:be,elementsSelectable:at,defaultViewport:Xe=eh,minZoom:Ue=.5,maxZoom:Ne=2,translateExtent:Ze=$n,preventScrolling:He=!0,nodeExtent:Re,defaultMarkerColor:qe="#b1b1b7",zoomOnScroll:Ge=!0,zoomOnPinch:lt=!0,panOnScroll:le=!1,panOnScrollSpeed:we=.5,panOnScrollMode:$e=Fe.Free,zoomOnDoubleClick:De=!0,panOnDrag:Ke=!0,onPaneClick:ve,onPaneMouseEnter:Be,onPaneMouseMove:on,onPaneMouseLeave:sn,onPaneScroll:ut,onPaneContextMenu:rn,children:to,onEdgeContextMenu:je,onEdgeDoubleClick:$r,onEdgeMouseEnter:Dr,onEdgeMouseMove:Br,onEdgeMouseLeave:jr,onEdgeUpdate:Vr,onEdgeUpdateStart:Lr,onEdgeUpdateEnd:Fr,onReconnect:Or,onReconnectStart:Wr,onReconnectEnd:Yr,reconnectRadius:Xr=10,edgeUpdaterRadius:Ur=10,onNodesChange:Zr,onEdgesChange:qr,noDragClassName:Gr="nodrag",noWheelClassName:Kr="nowheel",noPanClassName:no="nopan",fitView:Qr=!1,fitViewOptions:Jr,connectOnClick:ei=!0,attributionPosition:ti,proOptions:ni,defaultEdgeOptions:oi,elevateNodesOnSelect:si=!0,elevateEdgesOnSelect:ri=!1,disableKeyboardA11y:oo=!1,autoPanOnConnect:ii=!0,autoPanOnNodeDrag:ci=!0,connectionRadius:ai=20,isValidConnection:li,onError:ui,style:di,id:so,nodeDragThreshold:hi,...fi},pi)=>{const cn=so||"1";return _.createElement("div",{...fi,style:{...di,...th},ref:pi,className:ce(["react-flow",s]),"data-testid":"rf__wrapper",id:so},_.createElement(Er,null,_.createElement(Zd,{onInit:u,onMove:l,onMoveStart:d,onMoveEnd:h,onNodeClick:c,onEdgeClick:a,onNodeMouseEnter:E,onNodeMouseMove:A,onNodeMouseLeave:w,onNodeContextMenu:M,onNodeDoubleClick:k,nodeTypes:i,edgeTypes:r,connectionLineType:z,connectionLineStyle:I,connectionLineComponent:$,connectionLineContainerStyle:O,selectionKeyCode:X,selectionOnDrag:U,selectionMode:q,deleteKeyCode:F,multiSelectionKeyCode:K,panActivationKeyCode:Q,zoomActivationKeyCode:G,onlyRenderVisibleElements:ue,selectNodesOnDrag:ae,defaultViewport:Xe,translateExtent:Ze,minZoom:Ue,maxZoom:Ne,preventScrolling:He,zoomOnScroll:Ge,zoomOnPinch:lt,zoomOnDoubleClick:De,panOnScroll:le,panOnScrollSpeed:we,panOnScrollMode:$e,panOnDrag:Ke,onPaneClick:ve,onPaneMouseEnter:Be,onPaneMouseMove:on,onPaneMouseLeave:sn,onPaneScroll:ut,onPaneContextMenu:rn,onSelectionContextMenu:b,onSelectionStart:T,onSelectionEnd:H,onEdgeContextMenu:je,onEdgeDoubleClick:$r,onEdgeMouseEnter:Dr,onEdgeMouseMove:Br,onEdgeMouseLeave:jr,onReconnect:Or??Vr,onReconnectStart:Wr??Lr,onReconnectEnd:Yr??Fr,reconnectRadius:Xr??Ur,defaultMarkerColor:qe,noDragClassName:Gr,noWheelClassName:Kr,noPanClassName:no,elevateEdgesOnSelect:ri,rfId:cn,disableKeyboardA11y:oo,nodeOrigin:W,nodeExtent:Re}),_.createElement(Yu,{nodes:e,edges:t,defaultNodes:n,defaultEdges:o,onConnect:p,onConnectStart:y,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:x,nodesDraggable:ne,nodesConnectable:he,nodesFocusable:J,edgesFocusable:de,edgesUpdatable:be,elementsSelectable:at,elevateNodesOnSelect:si,minZoom:Ue,maxZoom:Ne,nodeExtent:Re,onNodesChange:Zr,onEdgesChange:qr,snapToGrid:ie,snapGrid:oe,connectionMode:N,translateExtent:Ze,connectOnClick:ei,defaultEdgeOptions:oi,fitView:Qr,fitViewOptions:Jr,onNodesDelete:j,onEdgesDelete:V,onNodeDragStart:R,onNodeDrag:D,onNodeDragStop:P,onSelectionDrag:f,onSelectionDragStart:B,onSelectionDragStop:C,noPanClassName:no,nodeOrigin:W,rfId:cn,autoPanOnConnect:ii,autoPanOnNodeDrag:ci,onError:ui,connectionRadius:ai,isValidConnection:li,nodeDragThreshold:hi}),_.createElement(Ou,{onSelectionChange:L}),to,_.createElement(yu,{proOptions:ni,position:ti}),_.createElement(Gu,{rfId:cn,disableKeyboardA11y:oo})))});_r.displayName="ReactFlow";function Cr(e){return t=>{const[n,o]=S.useState(t),s=S.useCallback(i=>o(r=>e(i,r)),[]);return[n,o,s]}}const nh=Cr(dr),oh=Cr(ud),Ar=({id:e,x:t,y:n,width:o,height:s,style:i,color:r,strokeColor:c,strokeWidth:a,className:u,borderRadius:l,shapeRendering:d,onClick:h,selected:p})=>{const{background:y,backgroundColor:g}=i||{},v=r||y||g;return _.createElement("rect",{className:ce(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:l,ry:l,width:o,height:s,fill:v,stroke:c,strokeWidth:a,shapeRendering:d,onClick:h?x=>h(x,e):void 0})};Ar.displayName="MiniMapNode";var sh=S.memo(Ar);const rh=e=>e.nodeOrigin,ih=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Sn=e=>e instanceof Function?e:()=>e;function ch({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:o=5,nodeStrokeWidth:s=2,nodeComponent:i=sh,onClick:r}){const c=ee(ih,re),a=ee(rh),u=Sn(t),l=Sn(e),d=Sn(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return _.createElement(_.Fragment,null,c.map(p=>{const{x:y,y:g}=Oe(p,a).positionAbsolute;return _.createElement(i,{key:p.id,x:y,y:g,width:p.width,height:p.height,style:p.style,selected:p.selected,className:d(p),color:u(p),borderRadius:o,strokeColor:l(p),strokeWidth:s,shapeRendering:h,onClick:r,id:p.id})}))}var ah=S.memo(ch);const lh=200,uh=150,dh=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?Su(tn(t,e.nodeOrigin),n):n,rfId:e.rfId}},hh="react-flow__minimap-desc";function kr({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:o="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:r=2,nodeComponent:c,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:l=1,position:d="bottom-right",onClick:h,onNodeClick:p,pannable:y=!1,zoomable:g=!1,ariaLabel:v="React Flow mini map",inversePan:x=!1,zoomStep:E=10,offsetScale:A=5}){const w=se(),M=S.useRef(null),{boundingRect:k,viewBB:R,rfId:D}=ee(dh,re),P=e?.width??lh,j=e?.height??uh,V=k.width/P,L=k.height/j,B=Math.max(V,L),f=B*P,C=B*j,b=A*B,T=k.x-(f-k.width)/2-b,H=k.y-(C-k.height)/2-b,N=f+b*2,z=C+b*2,I=`${hh}-${D}`,$=S.useRef(0);$.current=B,S.useEffect(()=>{if(M.current){const X=pe(M.current),U=K=>{const{transform:G,d3Selection:ie,d3Zoom:oe}=w.getState();if(K.sourceEvent.type!=="wheel"||!ie||!oe)return;const ue=-K.sourceEvent.deltaY*(K.sourceEvent.deltaMode===1?.05:K.sourceEvent.deltaMode?1:.002)*E,ae=G[2]*Math.pow(2,ue);oe.scaleTo(ie,ae)},q=K=>{const{transform:G,d3Selection:ie,d3Zoom:oe,translateExtent:ue,width:ae,height:ne}=w.getState();if(K.sourceEvent.type!=="mousemove"||!ie||!oe)return;const he=$.current*Math.max(1,G[2])*(x?-1:1),J={x:G[0]-K.sourceEvent.movementX*he,y:G[1]-K.sourceEvent.movementY*he},W=[[0,0],[ae,ne]],de=Ce.translate(J.x,J.y).scale(G[2]),be=oe.constrain()(de,W,ue);oe.transform(ie,be)},Q=zs().on("zoom",y?q:null).on("zoom.wheel",g?U:null);return X.call(Q),()=>{X.on("zoom",null)}}},[y,g,x,E]);const O=h?X=>{const U=ge(X);h(X,{x:U[0],y:U[1]})}:void 0,F=p?(X,U)=>{const q=w.getState().nodeInternals.get(U);p(X,q)}:void 0;return _.createElement(Wn,{position:d,style:e,className:ce(["react-flow__minimap",t]),"data-testid":"rf__minimap"},_.createElement("svg",{width:P,height:j,viewBox:`${T} ${H} ${N} ${z}`,role:"img","aria-labelledby":I,ref:M,onClick:O},v&&_.createElement("title",{id:I},v),_.createElement(ah,{onClick:F,nodeColor:o,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:r,nodeComponent:c}),_.createElement("path",{className:"react-flow__minimap-mask",d:`M${T-b},${H-b}h${N+b*2}v${z+b*2}h${-N-b*2}z
        M${R.x},${R.y}h${R.width}v${R.height}h${-R.width}z`,fill:a,fillRule:"evenodd",stroke:u,strokeWidth:l,pointerEvents:"none"})))}kr.displayName="MiniMap";var fh=S.memo(kr);function ph(){return _.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},_.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function mh(){return _.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},_.createElement("path",{d:"M0 0h32v4.2H0z"}))}function gh(){return _.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},_.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function xh(){return _.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},_.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function yh(){return _.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},_.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const yt=({children:e,className:t,...n})=>_.createElement("button",{type:"button",className:ce(["react-flow__controls-button",t]),...n},e);yt.displayName="ControlButton";const wh=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Mr=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:r,onFitView:c,onInteractiveChange:a,className:u,children:l,position:d="bottom-left"})=>{const h=se(),[p,y]=S.useState(!1),{isInteractive:g,minZoomReached:v,maxZoomReached:x}=ee(wh,re),{zoomIn:E,zoomOut:A,fitView:w}=Jn();if(S.useEffect(()=>{y(!0)},[]),!p)return null;const M=()=>{E(),i?.()},k=()=>{A(),r?.()},R=()=>{w(s),c?.()},D=()=>{h.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),a?.(!g)};return _.createElement(Wn,{className:ce(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&_.createElement(_.Fragment,null,_.createElement(yt,{onClick:M,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},_.createElement(ph,null)),_.createElement(yt,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},_.createElement(mh,null))),n&&_.createElement(yt,{className:"react-flow__controls-fitview",onClick:R,title:"fit view","aria-label":"fit view"},_.createElement(gh,null)),o&&_.createElement(yt,{className:"react-flow__controls-interactive",onClick:D,title:"toggle interactivity","aria-label":"toggle interactivity"},g?_.createElement(yh,null):_.createElement(xh,null)),l)};Mr.displayName="Controls";var vh=S.memo(Mr),xe;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(xe||(xe={}));function Sh({color:e,dimensions:t,lineWidth:n}){return _.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function bh({color:e,radius:t}){return _.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const Nh={[xe.Dots]:"#91919a",[xe.Lines]:"#eee",[xe.Cross]:"#e2e2e2"},Eh={[xe.Dots]:1,[xe.Lines]:1,[xe.Cross]:6},_h=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Tr({id:e,variant:t=xe.Dots,gap:n=20,size:o,lineWidth:s=1,offset:i=2,color:r,style:c,className:a}){const u=S.useRef(null),{transform:l,patternId:d}=ee(_h,re),h=r||Nh[t],p=o||Eh[t],y=t===xe.Dots,g=t===xe.Cross,v=Array.isArray(n)?n:[n,n],x=[v[0]*l[2]||1,v[1]*l[2]||1],E=p*l[2],A=g?[E,E]:x,w=y?[E/i,E/i]:[A[0]/i,A[1]/i];return _.createElement("svg",{className:ce(["react-flow__background",a]),style:{...c,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},_.createElement("pattern",{id:d+e,x:l[0]%x[0],y:l[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},y?_.createElement(bh,{color:h,radius:E/i}):_.createElement(Sh,{dimensions:A,color:h,lineWidth:s})),_.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}Tr.displayName="Background";var Ch=S.memo(Tr);const Ah=[{id:"internet",type:"input",position:{x:400,y:0},data:{label:"Internet (Untrusted)"},style:{background:"#ef4444",color:"white",border:"1px solid #7f1d1d"}},{id:"waf",position:{x:400,y:100},data:{label:"Cloudflare WAF / DDoS"},style:{background:"#f97316",color:"white",border:"1px solid #c2410c"}},{id:"dmz-group",type:"group",position:{x:100,y:200},style:{width:600,height:300,backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px dashed #ffff00"},data:{label:"DMZ (Demilitarized Zone)"}},{id:"lb",position:{x:150,y:250},parentNode:"dmz-group",data:{label:"Load Balancer"},extent:"parent"},{id:"web",position:{x:350,y:250},parentNode:"dmz-group",data:{label:"Web Server (React)"},extent:"parent"},{id:"api",position:{x:550,y:250},parentNode:"dmz-group",data:{label:"API Gateway"},extent:"parent"},{id:"bastion",position:{x:150,y:400},parentNode:"dmz-group",data:{label:"Bastion Host"},extent:"parent"},{id:"honeypot",position:{x:350,y:400},parentNode:"dmz-group",data:{label:"Honeypot"},extent:"parent"},{id:"auth",position:{x:550,y:400},parentNode:"dmz-group",data:{label:"Auth Proxy"},extent:"parent"},{id:"app-group",type:"group",position:{x:100,y:550},style:{width:600,height:200,backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px dashed #3b82f6"},data:{label:"App Tier (Internal)"}},{id:"app1",position:{x:150,y:600},parentNode:"app-group",data:{label:"App Server 1"},extent:"parent"},{id:"app2",position:{x:350,y:600},parentNode:"app-group",data:{label:"App Server 2"},extent:"parent"},{id:"ai",position:{x:550,y:600},parentNode:"app-group",data:{label:"AI Threat Engine"},extent:"parent"},{id:"data-group",type:"group",position:{x:100,y:800},style:{width:600,height:200,backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px dashed #ef4444"},data:{label:"Data Tier (Restricted)"}},{id:"db",position:{x:150,y:850},parentNode:"data-group",data:{label:"Primary DB"},extent:"parent"},{id:"siem",position:{x:350,y:850},parentNode:"data-group",data:{label:"SIEM Aggregator"},extent:"parent"},{id:"ad",position:{x:550,y:850},parentNode:"data-group",data:{label:"Active Directory"},extent:"parent"}],kh=[{id:"e1-2",source:"internet",target:"waf",animated:!0,style:{stroke:"#ef4444"}},{id:"e2-3",source:"waf",target:"lb",animated:!0},{id:"e3-4",source:"lb",target:"web"},{id:"e4-5",source:"web",target:"api"},{id:"e5-app1",source:"api",target:"app1",animated:!0},{id:"e5-app2",source:"api",target:"app2",animated:!0},{id:"e-app1-db",source:"app1",target:"db"},{id:"e-app2-db",source:"app2",target:"db"},{id:"e-app-ai",source:"app1",target:"ai",style:{strokeDasharray:5}},{id:"e-ai-siem",source:"ai",target:"siem",animated:!0,style:{stroke:"#eab308"}},{id:"e-auth-ad",source:"auth",target:"ad",style:{stroke:"#3b82f6"}}];function Mh(){const[e,,t]=nh(Ah),[n,o,s]=oh(kh),i=S.useCallback(r=>o(c=>Ws(r,c)),[o]);return m.jsxs("div",{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:69:9",className:"h-[800px] w-full border border-white/10 rounded-lg bg-[#050B14] overflow-hidden",children:[m.jsxs("div",{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:70:13",className:"p-4 border-b border-white/10 flex justify-between items-center bg-black/20",children:[m.jsxs("h3",{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:71:17",className:"text-white font-mono flex items-center",children:[m.jsx(Zt,{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:72:21",className:"w-4 h-4 mr-2 text-green-500"}),"ENTERPRISE ZERO-TRUST ARCHITECTURE (LIVE VIEW)"]}),m.jsxs("div",{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:75:17",className:"flex space-x-4 text-xs",children:[m.jsxs("div",{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:76:21",className:"flex items-center text-red-500",children:[m.jsx("span",{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:76:69",className:"w-2 h-2 rounded-full bg-red-500 mr-2"})," External"]}),m.jsxs("div",{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:77:21",className:"flex items-center text-yellow-500",children:[m.jsx("span",{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:77:72",className:"w-2 h-2 rounded-full bg-yellow-500 mr-2"})," DMZ"]}),m.jsxs("div",{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:78:21",className:"flex items-center text-blue-500",children:[m.jsx("span",{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:78:70",className:"w-2 h-2 rounded-full bg-blue-500 mr-2"})," Internal"]})]})]}),m.jsxs(_r,{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:81:13",nodes:e,edges:n,onNodesChange:t,onEdgesChange:s,onConnect:i,fitView:!0,attributionPosition:"bottom-right",className:"bg-[#050B14]",children:[m.jsx(fh,{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:91:17",nodeStrokeColor:"#fff",nodeColor:"#1a1a1a",maskColor:"rgba(0, 0, 0, 0.7)"}),m.jsx(vh,{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:92:17",className:"bg-white/10 border-white/10"}),m.jsx(Ch,{"code-path":"src\\components\\visualizations\\NetworkTopology.tsx:93:17",color:"#333",gap:16})]})]})}function Th(){const e=S.useRef(null);return S.useEffect(()=>{const t=e.current;if(!t)return;const n=t.getContext("2d");if(!n)return;let o,s=[];const i=()=>{t.width=window.innerWidth,t.height=window.innerHeight,c()};class r{x;y;speed;char;color;fontSize;constructor(){this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.speed=Math.random()*2+1,this.char=String.fromCharCode(12448+Math.random()*96),this.color=`rgba(0, 255, 70, ${Math.random()*.5+.1})`,this.fontSize=Math.floor(Math.random()*14)+10}update(){this.y+=this.speed,this.y>t.height&&(this.y=0,this.x=Math.random()*t.width)}draw(){n&&(n.fillStyle=this.color,n.font=`${this.fontSize}px monospace`,n.fillText(this.char,this.x,this.y))}}const c=()=>{s=[];const u=Math.floor(window.innerWidth/20);for(let l=0;l<u;l++)s.push(new r)},a=()=>{!n||!t||(n.clearRect(0,0,t.width,t.height),s.forEach(u=>{u.update(),u.draw(),Math.random()>.95&&(u.char=String.fromCharCode(12448+Math.random()*96))}),o=requestAnimationFrame(a))};return window.addEventListener("resize",i),i(),a(),()=>{window.removeEventListener("resize",i),cancelAnimationFrame(o)}},[]),m.jsx("canvas",{"code-path":"src\\components\\ui\\ParticleBackground.tsx:95:9",ref:e,className:"fixed inset-0 z-0 pointer-events-none opacity-30",style:{background:"transparent"}})}function Ph({onNavigate:e}){const t=S.useRef(null),n=Bt(0),o=Bt(0),s=fo(n,{stiffness:500,damping:50}),i=fo(o,{stiffness:500,damping:50}),r=jt(i,[-.5,.5],["17.5deg","-17.5deg"]),c=jt(s,[-.5,.5],["-17.5deg","17.5deg"]),a=l=>{const d=l.currentTarget.getBoundingClientRect(),h=d.width,p=d.height,y=l.clientX-d.left,g=l.clientY-d.top,v=y/h-.5,x=g/p-.5;n.set(v),o.set(x)},u=()=>{n.set(0),o.set(0)};return S.useEffect(()=>{t.current&&(t.current.style.animation="scanLine 1.1s ease-out forwards")},[]),m.jsxs("section",{"code-path":"src\\sections\\HeroSection.tsx:51:5",className:"relative min-h-screen w-full bg-[#050B14] overflow-hidden flex items-center",children:[m.jsx(Th,{"code-path":"src\\sections\\HeroSection.tsx:52:7"}),m.jsx("div",{"code-path":"src\\sections\\HeroSection.tsx:55:7",ref:t,className:"absolute left-1/2 top-0 w-[2px] h-full bg-white/90 z-10",style:{transform:"translateX(-50%) scaleY(0)",transformOrigin:"top"},children:m.jsx("div",{"code-path":"src\\sections\\HeroSection.tsx:60:9",className:"absolute inset-0 w-[10px] -left-[4px] bg-white/10 blur-sm"})}),m.jsx("div",{"code-path":"src\\sections\\HeroSection.tsx:64:7",className:"relative z-20 w-full px-4 sm:px-6 lg:px-8 xl:px-12 pt-20",children:m.jsxs("div",{"code-path":"src\\sections\\HeroSection.tsx:65:9",className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12 items-center",children:[m.jsxs("div",{"code-path":"src\\sections\\HeroSection.tsx:67:11",className:"space-y-8 animate-fade-in-up",children:[m.jsx("span",{"code-path":"src\\sections\\HeroSection.tsx:68:13",className:"mono inline-block text-xs font-medium tracking-[0.08em] text-[#A7B1C6] uppercase",children:"Whitelines Security"}),m.jsx("h1",{"code-path":"src\\sections\\HeroSection.tsx:72:13",className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold text-white leading-[0.98]",children:"Enterprise-Grade Security"}),m.jsx("p",{"code-path":"src\\sections\\HeroSection.tsx:76:13",className:"text-lg sm:text-xl text-[#A7B1C6] max-w-xl leading-relaxed",children:"Protect your business with the same tools trusted by teams worldwidemade simple."}),m.jsxs("div",{"code-path":"src\\sections\\HeroSection.tsx:80:13",className:"flex flex-wrap gap-4",children:[m.jsxs(ze,{"code-path":"src\\sections\\HeroSection.tsx:81:15",onClick:()=>e("products"),size:"lg",className:"bg-white text-[#050B14] hover:bg-white/90 font-medium px-8 py-6 text-base btn-shadow",children:["Explore Products",m.jsx(Bn,{"code-path":"src\\sections\\HeroSection.tsx:87:17",className:"ml-2 h-4 w-4"})]}),m.jsxs(ze,{"code-path":"src\\sections\\HeroSection.tsx:89:15",onClick:()=>e("contact"),size:"lg",variant:"outline",className:"border-white/20 text-white hover:bg-white/5 font-medium px-8 py-6 text-base",children:[m.jsx(Ri,{"code-path":"src\\sections\\HeroSection.tsx:95:17",className:"mr-2 h-4 w-4"}),"Talk to Sales"]})]})]}),m.jsx(ro.div,{"code-path":"src\\sections\\HeroSection.tsx:102:11",className:"relative hidden lg:block animate-fade-in-up",style:{animationDelay:"0.3s",perspective:1e3},onMouseMove:a,onMouseLeave:u,children:m.jsxs(ro.div,{"code-path":"src\\sections\\HeroSection.tsx:111:13",style:{rotateX:r,rotateY:c,transformStyle:"preserve-3d"},className:"relative aspect-[4/3] rounded-2xl overflow-hidden card-shadow bg-[#0B1628]",children:[m.jsx("img",{"code-path":"src\\sections\\HeroSection.tsx:119:15",src:"/hero_workspace.jpg",alt:"Secure workspace",className:"w-full h-full object-cover"}),m.jsx("div",{"code-path":"src\\sections\\HeroSection.tsx:124:15",className:"absolute inset-0 bg-gradient-to-t from-[#050B14]/40 to-transparent pointer-events-none"}),m.jsx("div",{"code-path":"src\\sections\\HeroSection.tsx:127:15",className:"absolute -bottom-6 -left-6 bg-[#0B1628]/90 backdrop-blur-md border border-white/10 rounded-xl p-4 card-shadow",style:{transform:"translateZ(50px)"},children:m.jsxs("div",{"code-path":"src\\sections\\HeroSection.tsx:131:17",className:"flex items-center space-x-3",children:[m.jsx("div",{"code-path":"src\\sections\\HeroSection.tsx:132:19",className:"h-10 w-10 bg-white/10 rounded-lg flex items-center justify-center",children:m.jsx("svg",{"code-path":"src\\sections\\HeroSection.tsx:133:21",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{"code-path":"src\\sections\\HeroSection.tsx:134:23",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),m.jsxs("div",{"code-path":"src\\sections\\HeroSection.tsx:137:19",children:[m.jsx("p",{"code-path":"src\\sections\\HeroSection.tsx:138:21",className:"text-2xl font-bold text-white",children:"99.9%"}),m.jsx("p",{"code-path":"src\\sections\\HeroSection.tsx:139:21",className:"text-xs text-[#A7B1C6]",children:"Uptime Guaranteed"})]})]})})]})})]})}),m.jsx("div",{"code-path":"src\\sections\\HeroSection.tsx:149:7",className:"absolute inset-0 bg-gradient-radial from-transparent via-[#050B14]/80 to-[#050B14] pointer-events-none"})]})}function bn({id:e,name:t,fullDescription:n,price:o,image:s,specs:i,layout:r,onNavigate:c}){const{addToCart:a}=Si(),u=r==="left-image",l=()=>{a({itemId:e,type:"product",name:t,price:o,quantity:1,image:s}),os.success(`${t} added to cart`)};return m.jsx("section",{"code-path":"src\\sections\\ProductReveal.tsx:46:5",className:"relative min-h-[80vh] w-full bg-[#050B14] overflow-hidden",children:m.jsxs("div",{"code-path":"src\\sections\\ProductReveal.tsx:47:7",className:"grid lg:grid-cols-2 min-h-[80vh]",children:[m.jsxs("div",{"code-path":"src\\sections\\ProductReveal.tsx:49:9",className:`relative h-[50vh] lg:h-auto ${u?"lg:order-1":"lg:order-2"}`,children:[m.jsx("img",{"code-path":"src\\sections\\ProductReveal.tsx:50:11",src:s,alt:t,className:"w-full h-full object-cover"}),m.jsx("div",{"code-path":"src\\sections\\ProductReveal.tsx:55:11",className:"absolute inset-0 bg-gradient-to-t from-[#050B14]/60 via-transparent to-transparent lg:bg-gradient-to-r"})]}),m.jsxs("div",{"code-path":"src\\sections\\ProductReveal.tsx:59:9",className:`relative bg-[#0B1628] flex items-center ${u?"lg:order-2":"lg:order-1"}`,children:[m.jsx("div",{"code-path":"src\\sections\\ProductReveal.tsx:61:11",className:`hidden lg:block absolute top-0 w-[2px] h-full bg-white ${u?"left-0":"right-0"}`}),m.jsx("div",{"code-path":"src\\sections\\ProductReveal.tsx:63:11",className:"px-8 py-16 lg:px-16 lg:py-24 max-w-xl",children:m.jsxs("div",{"code-path":"src\\sections\\ProductReveal.tsx:64:13",className:"space-y-6",children:[m.jsx("h2",{"code-path":"src\\sections\\ProductReveal.tsx:65:15",className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white",children:t}),m.jsx("p",{"code-path":"src\\sections\\ProductReveal.tsx:69:15",className:"text-[#A7B1C6] text-lg leading-relaxed",children:n}),m.jsx("div",{"code-path":"src\\sections\\ProductReveal.tsx:73:15",className:"flex items-baseline space-x-1",children:m.jsxs("span",{"code-path":"src\\sections\\ProductReveal.tsx:74:17",className:"text-4xl font-bold text-white",children:["$",o.toFixed(2)]})}),m.jsx("div",{"code-path":"src\\sections\\ProductReveal.tsx:77:15",className:"flex flex-wrap gap-3",children:i.map((d,h)=>m.jsxs("span",{"code-path":"src\\sections\\ProductReveal.tsx:79:19",className:"inline-flex items-center space-x-1 text-sm text-[#A7B1C6] bg-white/5 px-3 py-1.5 rounded-full",children:[m.jsx(rs,{"code-path":"src\\sections\\ProductReveal.tsx:83:21",className:"h-3 w-3 text-white"}),m.jsx("span",{"code-path":"src\\sections\\ProductReveal.tsx:84:21",children:d})]},h))}),m.jsxs("div",{"code-path":"src\\sections\\ProductReveal.tsx:89:15",className:"flex flex-wrap gap-4 pt-4",children:[m.jsxs(ze,{"code-path":"src\\sections\\ProductReveal.tsx:90:17",onClick:l,size:"lg",className:"bg-white text-[#050B14] hover:bg-white/90 font-medium",children:[m.jsx(ns,{"code-path":"src\\sections\\ProductReveal.tsx:95:19",className:"mr-2 h-4 w-4"}),"Add to Cart"]}),m.jsx(ze,{"code-path":"src\\sections\\ProductReveal.tsx:98:17",onClick:()=>c("products"),size:"lg",variant:"outline",className:"border-white/20 text-white hover:bg-white/5",children:"View Details"})]})]})})]})]})})}const zh=[{id:"serv-1",icon:Zt,title:"Small Business Security Audit",description:"Network review, firewall check, and a prioritized action plan.",price:299},{id:"serv-2",icon:bi,title:"Personal Data Protection Setup",description:"Secure your devices, passwords, and cloud accounts.",price:149},{id:"serv-3",icon:Ci,title:"Incident Response Consultation",description:"Fast guidance when something goes wrong.",price:499}];function Ih({onNavigate:e}){return m.jsx("section",{"code-path":"src\\sections\\ServicesSection.tsx:35:5",className:"relative py-24 lg:py-32 bg-[#050B14]",children:m.jsxs("div",{"code-path":"src\\sections\\ServicesSection.tsx:36:7",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{"code-path":"src\\sections\\ServicesSection.tsx:38:9",className:"mb-16",children:[m.jsx("h2",{"code-path":"src\\sections\\ServicesSection.tsx:39:11",className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:"Security Services"}),m.jsx("p",{"code-path":"src\\sections\\ServicesSection.tsx:42:11",className:"text-lg text-[#A7B1C6] max-w-2xl",children:"From setup to incident responseexpert help when you need it."}),m.jsx("div",{"code-path":"src\\sections\\ServicesSection.tsx:45:11",className:"h-[2px] w-24 bg-white mt-6"})]}),m.jsx("div",{"code-path":"src\\sections\\ServicesSection.tsx:49:9",className:"grid md:grid-cols-3 gap-6 lg:gap-8",children:zh.map(t=>{const n=t.icon;return m.jsxs("div",{"code-path":"src\\sections\\ServicesSection.tsx:53:15",onClick:()=>e?.("services"),className:"group bg-[#0B1628] rounded-2xl p-8 border border-white/5 card-shadow cursor-pointer hover:-translate-y-1 transition-transform duration-300",children:[m.jsx("div",{"code-path":"src\\sections\\ServicesSection.tsx:58:17",className:"h-12 w-12 bg-white/5 rounded-xl flex items-center justify-center mb-6 group-hover:bg-white/10 transition-colors",children:m.jsx(n,{"code-path":"src\\sections\\ServicesSection.tsx:59:19",className:"h-6 w-6 text-white"})}),m.jsx("h3",{"code-path":"src\\sections\\ServicesSection.tsx:61:17",className:"text-xl font-semibold text-white mb-3",children:t.title}),m.jsx("p",{"code-path":"src\\sections\\ServicesSection.tsx:64:17",className:"text-[#A7B1C6] mb-4 leading-relaxed",children:t.description}),m.jsxs("div",{"code-path":"src\\sections\\ServicesSection.tsx:67:17",className:"flex items-center justify-between",children:[m.jsxs("span",{"code-path":"src\\sections\\ServicesSection.tsx:68:19",className:"text-2xl font-bold text-white",children:["$",t.price]}),m.jsxs("span",{"code-path":"src\\sections\\ServicesSection.tsx:71:19",className:"flex items-center text-sm text-[#A7B1C6] group-hover:text-white transition-colors",children:["Learn more",m.jsx(Bn,{"code-path":"src\\sections\\ServicesSection.tsx:73:21",className:"ml-1 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})]},t.id)})})]})})}const Hh=[{number:"01",icon:ns,title:"Choose a product or service",description:"Browse our catalog of security products and professional services."},{number:"02",icon:Ai,title:"Schedule or checkout",description:"Book a service appointment or purchase products instantly."},{number:"03",icon:Zt,title:"Get protectedfast",description:"Receive your products or start your service within 24 hours."}];function Rh(){return m.jsx("section",{"code-path":"src\\sections\\HowItWorksSection.tsx:26:5",className:"relative py-24 lg:py-32 bg-[#050B14]",children:m.jsxs("div",{"code-path":"src\\sections\\HowItWorksSection.tsx:27:7",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{"code-path":"src\\sections\\HowItWorksSection.tsx:29:9",className:"text-center mb-16",children:[m.jsx("h2",{"code-path":"src\\sections\\HowItWorksSection.tsx:30:11",className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:"How It Works"}),m.jsx("p",{"code-path":"src\\sections\\HowItWorksSection.tsx:33:11",className:"text-lg text-[#A7B1C6] max-w-2xl mx-auto",children:"Getting started with Whitelines is simple and straightforward."})]}),m.jsxs("div",{"code-path":"src\\sections\\HowItWorksSection.tsx:39:9",className:"relative",children:[m.jsx("div",{"code-path":"src\\sections\\HowItWorksSection.tsx:41:11",className:"hidden lg:block absolute top-10 left-[16.67%] right-[16.67%] h-[2px] bg-white/20"}),m.jsx("div",{"code-path":"src\\sections\\HowItWorksSection.tsx:43:11",className:"grid md:grid-cols-3 gap-12 lg:gap-8",children:Hh.map(e=>{const t=e.icon;return m.jsxs("div",{"code-path":"src\\sections\\HowItWorksSection.tsx:47:17",className:"relative text-center",children:[m.jsxs("div",{"code-path":"src\\sections\\HowItWorksSection.tsx:49:19",className:"relative z-10 mx-auto mb-6",children:[m.jsx("div",{"code-path":"src\\sections\\HowItWorksSection.tsx:50:21",className:"h-20 w-20 bg-[#0B1628] border-2 border-white rounded-full flex items-center justify-center mx-auto",children:m.jsx(t,{"code-path":"src\\sections\\HowItWorksSection.tsx:51:23",className:"h-8 w-8 text-white"})}),m.jsx("span",{"code-path":"src\\sections\\HowItWorksSection.tsx:53:21",className:"mono absolute -top-2 -right-2 h-8 w-8 bg-white text-[#050B14] rounded-full flex items-center justify-center text-sm font-bold",children:e.number})]}),m.jsxs("div",{"code-path":"src\\sections\\HowItWorksSection.tsx:59:19",children:[m.jsx("h3",{"code-path":"src\\sections\\HowItWorksSection.tsx:60:21",className:"text-xl font-semibold text-white mb-3",children:e.title}),m.jsx("p",{"code-path":"src\\sections\\HowItWorksSection.tsx:63:21",className:"text-[#A7B1C6] leading-relaxed",children:e.description})]})]},e.number)})})]})]})})}const $h=[{id:1,quote:"Whitelines made it easy to secure our client files without slowing anyone down.",author:"Alex R.",role:"Operations Lead",avatar:"AR"},{id:2,quote:"The audit gave us a clear plan we actually followed. Highly recommended for any small business.",author:"Priya M.",role:"Studio Founder",avatar:"PM"},{id:3,quote:"Setup was hands-on, fast, and jargon-free. Finally, security that makes sense.",author:"Jordan T.",role:"Creative Director",avatar:"JT"}];function Dh(){return m.jsx("section",{"code-path":"src\\sections\\TestimonialsSection.tsx:29:5",className:"relative py-24 lg:py-32 bg-[#050B14]",children:m.jsxs("div",{"code-path":"src\\sections\\TestimonialsSection.tsx:30:7",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsx("div",{"code-path":"src\\sections\\TestimonialsSection.tsx:32:9",className:"mb-16",children:m.jsx("h2",{"code-path":"src\\sections\\TestimonialsSection.tsx:33:11",className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white",children:"Trusted by teams"})}),m.jsx("div",{"code-path":"src\\sections\\TestimonialsSection.tsx:39:9",className:"grid md:grid-cols-3 gap-6 lg:gap-8",children:$h.map(e=>m.jsxs("div",{"code-path":"src\\sections\\TestimonialsSection.tsx:41:13",className:"bg-[#0B1628] rounded-2xl p-8 border border-white/5 card-shadow",children:[m.jsx(Di,{"code-path":"src\\sections\\TestimonialsSection.tsx:45:15",className:"h-8 w-8 text-white/20 mb-6"}),m.jsxs("p",{"code-path":"src\\sections\\TestimonialsSection.tsx:46:15",className:"text-[#A7B1C6] text-lg leading-relaxed mb-8",children:['"',e.quote,'"']}),m.jsxs("div",{"code-path":"src\\sections\\TestimonialsSection.tsx:49:15",className:"flex items-center space-x-4",children:[m.jsx("div",{"code-path":"src\\sections\\TestimonialsSection.tsx:50:17",className:"h-10 w-10 bg-white/10 rounded-full flex items-center justify-center",children:m.jsx("span",{"code-path":"src\\sections\\TestimonialsSection.tsx:51:19",className:"text-white font-medium text-sm",children:e.avatar})}),m.jsxs("div",{"code-path":"src\\sections\\TestimonialsSection.tsx:53:17",children:[m.jsx("p",{"code-path":"src\\sections\\TestimonialsSection.tsx:54:19",className:"text-white font-medium",children:e.author}),m.jsx("p",{"code-path":"src\\sections\\TestimonialsSection.tsx:55:19",className:"text-sm text-[#A7B1C6]",children:e.role})]})]})]},e.id))})]})})}function Bh(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function jh(e){const[t,n]=S.useState(void 0);return ki(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let r,c;if("borderBoxSize"in i){const a=i.borderBoxSize,u=Array.isArray(a)?a[0]:a;r=u.inlineSize,c=u.blockSize}else r=e.offsetWidth,c=e.offsetHeight;n({width:r,height:c})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}var nn="Switch",[Vh]=Ti(nn),[Lh,Fh]=Vh(nn),Pr=S.forwardRef((e,t)=>{const{__scopeSwitch:n,name:o,checked:s,defaultChecked:i,required:r,disabled:c,value:a="on",onCheckedChange:u,form:l,...d}=e,[h,p]=S.useState(null),y=ss(t,A=>p(A)),g=S.useRef(!1),v=h?l||!!h.closest("form"):!0,[x,E]=Mi({prop:s,defaultProp:i??!1,onChange:u,caller:nn});return m.jsxs(Lh,{scope:n,checked:x,disabled:c,children:[m.jsx(is.button,{type:"button",role:"switch","aria-checked":x,"aria-required":r,"data-state":Rr(x),"data-disabled":c?"":void 0,disabled:c,value:a,...d,ref:y,onClick:Pi(e.onClick,A=>{E(w=>!w),v&&(g.current=A.isPropagationStopped(),g.current||A.stopPropagation())})}),v&&m.jsx(Hr,{control:h,bubbles:!g.current,name:o,value:a,checked:x,required:r,disabled:c,form:l,style:{transform:"translateX(-100%)"}})]})});Pr.displayName=nn;var zr="SwitchThumb",Ir=S.forwardRef((e,t)=>{const{__scopeSwitch:n,...o}=e,s=Fh(zr,n);return m.jsx(is.span,{"data-state":Rr(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:t})});Ir.displayName=zr;var Oh="SwitchBubbleInput",Hr=S.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:o=!0,...s},i)=>{const r=S.useRef(null),c=ss(r,i),a=Bh(n),u=jh(t);return S.useEffect(()=>{const l=r.current;if(!l)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&p){const y=new Event("click",{bubbles:o});p.call(l,n),l.dispatchEvent(y)}},[a,n,o]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Hr.displayName=Oh;function Rr(e){return e?"checked":"unchecked"}var Wh=Pr,Yh=Ir;function Xh({className:e,...t}){return m.jsx(Wh,{"code-path":"src\\components\\ui\\switch.tsx:13:5","data-slot":"switch",className:io("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:m.jsx(Yh,{"code-path":"src\\components\\ui\\switch.tsx:21:7","data-slot":"switch-thumb",className:io("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Uh=[{id:"starter",name:"Starter",monthlyPrice:9,yearlyPrice:7,description:"Core protection + support",features:["Basic threat monitoring","Email support","Monthly security reports","Up to 5 team members"],highlighted:!1},{id:"business",name:"Business",monthlyPrice:19,yearlyPrice:15,description:"Advanced policies + reporting",features:["Advanced threat detection","Priority support","Weekly security reports","Up to 25 team members","Custom security policies","API access"],highlighted:!0},{id:"enterprise",name:"Enterprise",monthlyPrice:null,yearlyPrice:null,description:"Dedicated support + onboarding",features:["Enterprise-grade security","24/7 dedicated support","Real-time monitoring","Unlimited team members","Custom integrations","On-site consultation"],highlighted:!1}];function Zh({onNavigate:e}){const[t,n]=S.useState(!1);return m.jsx("section",{"code-path":"src\\sections\\PricingSection.tsx:65:5",className:"relative py-24 lg:py-32 bg-[#050B14]",children:m.jsxs("div",{"code-path":"src\\sections\\PricingSection.tsx:66:7",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{"code-path":"src\\sections\\PricingSection.tsx:68:9",className:"text-center mb-12",children:[m.jsx("h2",{"code-path":"src\\sections\\PricingSection.tsx:69:11",className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:"Simple pricing"}),m.jsx("p",{"code-path":"src\\sections\\PricingSection.tsx:72:11",className:"text-lg text-[#A7B1C6] max-w-2xl mx-auto mb-8",children:"Choose the plan that fits your business needs."}),m.jsxs("div",{"code-path":"src\\sections\\PricingSection.tsx:77:11",className:"flex items-center justify-center space-x-4",children:[m.jsx("span",{"code-path":"src\\sections\\PricingSection.tsx:78:13",className:`text-sm ${t?"text-[#A7B1C6]":"text-white"}`,children:"Monthly"}),m.jsx(Xh,{"code-path":"src\\sections\\PricingSection.tsx:81:13",checked:t,onCheckedChange:n,className:"data-[state=checked]:bg-white"}),m.jsxs("span",{"code-path":"src\\sections\\PricingSection.tsx:86:13",className:`text-sm ${t?"text-white":"text-[#A7B1C6]"}`,children:["Yearly",m.jsx("span",{"code-path":"src\\sections\\PricingSection.tsx:88:15",className:"ml-2 text-xs text-green-400",children:"Save 20%"})]})]})]}),m.jsx("div",{"code-path":"src\\sections\\PricingSection.tsx:94:9",className:"grid md:grid-cols-3 gap-6 lg:gap-8 max-w-5xl mx-auto",children:Uh.map(o=>m.jsxs("div",{"code-path":"src\\sections\\PricingSection.tsx:96:13",className:`relative rounded-2xl p-8 ${o.highlighted?"bg-[#0B1628] border-2 border-white":"bg-[#0B1628] border border-white/5"} card-shadow`,children:[o.highlighted&&m.jsx("div",{"code-path":"src\\sections\\PricingSection.tsx:105:17",className:"absolute -top-3 left-1/2 -translate-x-1/2",children:m.jsxs("span",{"code-path":"src\\sections\\PricingSection.tsx:106:19",className:"inline-flex items-center space-x-1 bg-white text-[#050B14] text-xs font-medium px-3 py-1 rounded-full",children:[m.jsx(ji,{"code-path":"src\\sections\\PricingSection.tsx:107:21",className:"h-3 w-3"}),m.jsx("span",{"code-path":"src\\sections\\PricingSection.tsx:108:21",children:"Most Popular"})]})}),m.jsxs("div",{"code-path":"src\\sections\\PricingSection.tsx:113:15",className:"mb-6",children:[m.jsx("h3",{"code-path":"src\\sections\\PricingSection.tsx:114:17",className:"text-xl font-semibold text-white mb-2",children:o.name}),m.jsx("p",{"code-path":"src\\sections\\PricingSection.tsx:115:17",className:"text-sm text-[#A7B1C6]",children:o.description})]}),m.jsx("div",{"code-path":"src\\sections\\PricingSection.tsx:118:15",className:"mb-6",children:o.monthlyPrice?m.jsxs("div",{"code-path":"src\\sections\\PricingSection.tsx:120:19",className:"flex items-baseline",children:[m.jsxs("span",{"code-path":"src\\sections\\PricingSection.tsx:121:21",className:"text-4xl font-bold text-white",children:["$",t?o.yearlyPrice:o.monthlyPrice]}),m.jsx("span",{"code-path":"src\\sections\\PricingSection.tsx:124:21",className:"text-[#A7B1C6] ml-2",children:"/user/month"})]}):m.jsx("div",{"code-path":"src\\sections\\PricingSection.tsx:127:19",className:"text-4xl font-bold text-white",children:"Custom"})}),m.jsx("ul",{"code-path":"src\\sections\\PricingSection.tsx:131:15",className:"space-y-3 mb-8",children:o.features.map((s,i)=>m.jsxs("li",{"code-path":"src\\sections\\PricingSection.tsx:133:19",className:"flex items-start space-x-3",children:[m.jsx(rs,{"code-path":"src\\sections\\PricingSection.tsx:134:21",className:"h-5 w-5 text-white flex-shrink-0 mt-0.5"}),m.jsx("span",{"code-path":"src\\sections\\PricingSection.tsx:135:21",className:"text-[#A7B1C6] text-sm",children:s})]},i))}),m.jsx(ze,{"code-path":"src\\sections\\PricingSection.tsx:140:15",onClick:()=>e("contact"),className:`w-full ${o.highlighted?"bg-white text-[#050B14] hover:bg-white/90":"bg-white/5 text-white hover:bg-white/10 border border-white/10"}`,children:o.monthlyPrice?"Get Started":"Contact Sales"})]},o.id))})]})})}function qh({onNavigate:e}){const[t,n]=S.useState({name:"",email:"",company:"",message:""}),o=s=>{s.preventDefault(),os.success("Message sent! We'll get back to you within 24 hours."),n({name:"",email:"",company:"",message:""})};return m.jsx("section",{"code-path":"src\\sections\\CTASection.tsx:29:5",className:"relative py-24 lg:py-32 bg-[#0B1628]",children:m.jsxs("div",{"code-path":"src\\sections\\CTASection.tsx:30:7",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{"code-path":"src\\sections\\CTASection.tsx:32:9",className:"text-center mb-16",children:[m.jsx("h2",{"code-path":"src\\sections\\CTASection.tsx:33:11",className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:"Ready to secure your business?"}),m.jsx("p",{"code-path":"src\\sections\\CTASection.tsx:36:11",className:"text-lg text-[#A7B1C6] max-w-2xl mx-auto mb-8",children:"Get a quote in minutes. No commitment required."}),m.jsxs("div",{"code-path":"src\\sections\\CTASection.tsx:40:11",className:"flex flex-wrap justify-center gap-4",children:[m.jsxs(ze,{"code-path":"src\\sections\\CTASection.tsx:41:13",onClick:()=>e("contact"),size:"lg",className:"bg-white text-[#050B14] hover:bg-white/90 font-medium px-8",children:["Get a Quote",m.jsx(Bn,{"code-path":"src\\sections\\CTASection.tsx:47:15",className:"ml-2 h-4 w-4"})]}),m.jsx("a",{"code-path":"src\\sections\\CTASection.tsx:49:13",href:"mailto:support@whitelines.security",children:m.jsxs(ze,{"code-path":"src\\sections\\CTASection.tsx:50:15",size:"lg",variant:"outline",className:"border-white/20 text-white hover:bg-white/5 font-medium px-8",children:[m.jsx(zi,{"code-path":"src\\sections\\CTASection.tsx:55:17",className:"mr-2 h-4 w-4"}),"Email Us"]})})]})]}),m.jsxs("form",{"code-path":"src\\sections\\CTASection.tsx:63:9",onSubmit:o,className:"max-w-2xl mx-auto bg-[#050B14] rounded-2xl p-8 border border-white/5 card-shadow mb-16",children:[m.jsxs("div",{"code-path":"src\\sections\\CTASection.tsx:67:11",className:"grid sm:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{"code-path":"src\\sections\\CTASection.tsx:68:13",children:[m.jsx("label",{"code-path":"src\\sections\\CTASection.tsx:69:15",className:"block text-sm text-[#A7B1C6] mb-2",children:"Name"}),m.jsx(ln,{"code-path":"src\\sections\\CTASection.tsx:70:15",value:t.name,onChange:s=>n({...t,name:s.target.value}),placeholder:"Your name",className:"bg-white/5 border-white/10 text-white placeholder:text-[#A7B1C6]/50",required:!0})]}),m.jsxs("div",{"code-path":"src\\sections\\CTASection.tsx:78:13",children:[m.jsx("label",{"code-path":"src\\sections\\CTASection.tsx:79:15",className:"block text-sm text-[#A7B1C6] mb-2",children:"Email"}),m.jsx(ln,{"code-path":"src\\sections\\CTASection.tsx:80:15",type:"email",value:t.email,onChange:s=>n({...t,email:s.target.value}),placeholder:"you@company.com",className:"bg-white/5 border-white/10 text-white placeholder:text-[#A7B1C6]/50",required:!0})]})]}),m.jsxs("div",{"code-path":"src\\sections\\CTASection.tsx:90:11",className:"mb-6",children:[m.jsx("label",{"code-path":"src\\sections\\CTASection.tsx:91:13",className:"block text-sm text-[#A7B1C6] mb-2",children:"Company"}),m.jsx(ln,{"code-path":"src\\sections\\CTASection.tsx:92:13",value:t.company,onChange:s=>n({...t,company:s.target.value}),placeholder:"Your company name",className:"bg-white/5 border-white/10 text-white placeholder:text-[#A7B1C6]/50"})]}),m.jsxs("div",{"code-path":"src\\sections\\CTASection.tsx:99:11",className:"mb-6",children:[m.jsx("label",{"code-path":"src\\sections\\CTASection.tsx:100:13",className:"block text-sm text-[#A7B1C6] mb-2",children:"Message"}),m.jsx(Ii,{"code-path":"src\\sections\\CTASection.tsx:101:13",value:t.message,onChange:s=>n({...t,message:s.target.value}),placeholder:"Tell us about your security needs...",rows:4,className:"bg-white/5 border-white/10 text-white placeholder:text-[#A7B1C6]/50 resize-none",required:!0})]}),m.jsxs(ze,{"code-path":"src\\sections\\CTASection.tsx:110:11",type:"submit",className:"w-full bg-white text-[#050B14] hover:bg-white/90 font-medium",children:[m.jsx(Ni,{"code-path":"src\\sections\\CTASection.tsx:114:13",className:"mr-2 h-4 w-4"}),"Send Message"]})]}),m.jsx("footer",{"code-path":"src\\sections\\CTASection.tsx:120:9",className:"border-t border-white/10 pt-8",children:m.jsxs("div",{"code-path":"src\\sections\\CTASection.tsx:121:11",className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[m.jsxs("div",{"code-path":"src\\sections\\CTASection.tsx:122:13",className:"flex items-center space-x-6",children:[m.jsx("button",{"code-path":"src\\sections\\CTASection.tsx:123:15",onClick:()=>e("home"),className:"text-sm text-[#A7B1C6] hover:text-white transition-colors",children:"Privacy"}),m.jsx("button",{"code-path":"src\\sections\\CTASection.tsx:126:15",onClick:()=>e("home"),className:"text-sm text-[#A7B1C6] hover:text-white transition-colors",children:"Terms"}),m.jsx("button",{"code-path":"src\\sections\\CTASection.tsx:129:15",onClick:()=>e("home"),className:"text-sm text-[#A7B1C6] hover:text-white transition-colors",children:"Security"})]}),m.jsxs("p",{"code-path":"src\\sections\\CTASection.tsx:133:13",className:"text-sm text-[#A7B1C6]",children:[" ",new Date().getFullYear()," Whitelines Security Solutions"]})]})})]})})}function of({onNavigate:e}){const t=Ei.getProducts();return m.jsxs("main",{"code-path":"src\\pages\\HomePage.tsx:22:5",className:"bg-[#050B14]",children:[m.jsx(Ph,{"code-path":"src\\pages\\HomePage.tsx:23:7",onNavigate:e}),m.jsx("section",{"code-path":"src\\pages\\HomePage.tsx:26:7",className:"py-24 bg-black/50 relative overflow-hidden",children:m.jsxs("div",{"code-path":"src\\pages\\HomePage.tsx:27:9",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{"code-path":"src\\pages\\HomePage.tsx:28:11",className:"mb-12 text-center",children:[m.jsx("h2",{"code-path":"src\\pages\\HomePage.tsx:29:13",className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-white/60 mb-4",children:"Enterprise Zero-Trust Infrastructure"}),m.jsxs("div",{"code-path":"src\\pages\\HomePage.tsx:32:13",className:"flex items-center justify-center space-x-2 text-[#A7B1C6]",children:[m.jsx(Zt,{"code-path":"src\\pages\\HomePage.tsx:33:15",className:"w-4 h-4 text-green-500"}),m.jsx("span",{"code-path":"src\\pages\\HomePage.tsx:34:15",className:"font-mono text-sm",children:"Federal-Grade Architecture | NIST-800-53 Compliant"})]})]}),m.jsx(Mh,{"code-path":"src\\pages\\HomePage.tsx:38:11"}),m.jsxs("div",{"code-path":"src\\pages\\HomePage.tsx:40:11",className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6 text-center text-xs text-[#A7B1C6] font-mono",children:[m.jsxs("div",{"code-path":"src\\pages\\HomePage.tsx:41:13",className:"p-4 border border-white/5 rounded bg-white/5",children:[m.jsx("strong",{"code-path":"src\\pages\\HomePage.tsx:42:15",className:"text-white block mb-2",children:"Layer 1: DMZ"}),"Isolated public services with limited access."]}),m.jsxs("div",{"code-path":"src\\pages\\HomePage.tsx:45:13",className:"p-4 border border-white/5 rounded bg-white/5",children:[m.jsx("strong",{"code-path":"src\\pages\\HomePage.tsx:46:15",className:"text-white block mb-2",children:"Layer 2: App Tier"}),"Business logic with strict mTLS authentication."]}),m.jsxs("div",{"code-path":"src\\pages\\HomePage.tsx:49:13",className:"p-4 border border-white/5 rounded bg-white/5",children:[m.jsx("strong",{"code-path":"src\\pages\\HomePage.tsx:50:15",className:"text-white block mb-2",children:"Layer 3: Data Core"}),"Encrypted storage and centralized SIEM."]})]})]})}),m.jsx(bn,{"code-path":"src\\pages\\HomePage.tsx:58:7",id:t[0].id,name:t[0].name,description:t[0].description,fullDescription:t[0].fullDescription,price:t[0].price,image:t[0].image,specs:t[0].specs,layout:"left-image",onNavigate:e}),m.jsx(bn,{"code-path":"src\\pages\\HomePage.tsx:71:7",id:t[1].id,name:t[1].name,description:t[1].description,fullDescription:t[1].fullDescription,price:t[1].price,image:t[1].image,specs:t[1].specs,layout:"right-image",onNavigate:e}),m.jsx(bn,{"code-path":"src\\pages\\HomePage.tsx:84:7",id:t[2].id,name:t[2].name,description:t[2].description,fullDescription:t[2].fullDescription,price:t[2].price,image:t[2].image,specs:t[2].specs,layout:"left-image",onNavigate:e}),m.jsx(Ih,{"code-path":"src\\pages\\HomePage.tsx:96:7"}),m.jsx(Rh,{"code-path":"src\\pages\\HomePage.tsx:97:7"}),m.jsx(Dh,{"code-path":"src\\pages\\HomePage.tsx:98:7"}),m.jsx(Zh,{"code-path":"src\\pages\\HomePage.tsx:99:7",onNavigate:e}),m.jsx(qh,{"code-path":"src\\pages\\HomePage.tsx:100:7",onNavigate:e})]})}export{of as HomePage};
